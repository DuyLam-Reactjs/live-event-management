(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[15],{643:function(e,t,n){"use strict";n(1);var c=n(624),a=n(21);t.a=function(e){var t=e.title,n=e.isCreateProvider,i=e.editContentProvider;return Object(a.jsx)(c.H,{className:"pt-2 pb-4",children:Object(a.jsxs)(c.i,{className:"col-lg-7",children:[n&&Object(a.jsxs)("h3",{className:"m-0",children:[Object(a.jsx)("span",{style:{color:"#9B9B9B"},children:" Content Provider List "}),Object(a.jsx)("strong",{children:" / Th\xeam Content Provider"})]}),i&&Object(a.jsxs)("h3",{className:"m-0",children:[Object(a.jsx)("span",{style:{color:"#9B9B9B"},children:" Content Provider List "}),Object(a.jsx)("strong",{children:" / S\u1eeda Content Provider"})]}),Object(a.jsx)("h2",{children:t})]})})}},804:function(e,t,n){"use strict";n.r(t);var c=n(631),a=n.n(c),i=n(638),s=n(632),o=n(625),r=n(1),l=n(23),d=n(624),u=(n(755),n(627)),j=n(629),b=n(787),v=n(652),O=n(21),h=function(e){var t=e||{},n=t.currentPageList,c=t.fields,a=t.onHandleAdd,s=t.onEditContentItem;return Object(O.jsx)(d.H,{className:"justify-content-between",children:Object(O.jsx)(d.i,{children:Object(O.jsx)(d.f,{children:Object(O.jsx)(d.g,{children:Object(O.jsxs)("table",{children:[Object(O.jsx)("thead",{children:Object(O.jsx)("tr",{children:c.map((function(e,t){return Object(O.jsx)("th",{children:null===e||void 0===e?void 0:e.key},(null===e||void 0===e?void 0:e.key)+t||t)}))})}),Object(O.jsx)("tbody",{children:(n||[]).map((function(e,t){return Object(O.jsx)(O.Fragment,{children:((null===e||void 0===e?void 0:e.contentProviders)||[]).map((function(t,n){return Object(O.jsx)(O.Fragment,{children:((null===t||void 0===t?void 0:t.adsGroups)||[]).map((function(c,o){var r=null,l=null,h=null,m=null,p=null,f=null,x=function(e){var t=[];return((null===e||void 0===e?void 0:e.contentProviders)||[]).forEach((function(e){t=[].concat(Object(i.a)(t),Object(i.a)((null===e||void 0===e?void 0:e.adsGroups)||[]))})),(t||[]).length}(e),g=((null===t||void 0===t?void 0:t.adsGroups)||[]).length;return 0===n&&0===o&&(r=Object(O.jsx)("td",{className:"content",rowSpan:x,children:null===e||void 0===e?void 0:e.name}),l=Object(O.jsx)("td",{className:"content",rowSpan:x,children:null===e||void 0===e?void 0:e.type}),h=Object(O.jsx)("td",{className:"content",rowSpan:x,children:null===e||void 0===e?void 0:e.status}),m=Object(O.jsx)("td",{className:"content",rowSpan:x,children:Object(u.g)(null===e||void 0===e?void 0:e.updated_at)}),f=Object(O.jsx)("td",{className:"content ",rowSpan:x,children:Object(O.jsx)(d.a,{children:Object(O.jsxs)(d.d,{block:!0,color:"success",onClick:function(){return function(e,t,n){a&&a(e,t,n)}(e,t,c)},children:[Object(O.jsx)(j.a,{content:b.a.cilPlus}),Object(O.jsx)("span",{className:"mt-1",children:" Add"})]})})}),p=Object(O.jsx)("td",{className:"content",rowSpan:g,children:null===t||void 0===t?void 0:t.name})),0!==n&&0===o&&(p=Object(O.jsx)("td",{className:"content",rowSpan:g,children:null===t||void 0===t?void 0:t.name})),Object(O.jsxs)("tr",{children:[r,l,h,p,Object(O.jsx)("td",{className:"content",children:null===c||void 0===c?void 0:c.group}),Object(O.jsx)("td",{className:"content",children:1===(null===c||void 0===c?void 0:c.status)?"Hi\u1ec7n":0===(null===c||void 0===c?void 0:c.status)?"\u1ea8n":""}),m,Object(O.jsx)("td",{className:"content ",children:(null===t||void 0===t?void 0:t.id)&&Object(O.jsx)(d.a,{children:Object(O.jsxs)(d.d,{block:!0,color:"info",onClick:function(){return function(e,t,n){s&&s(e,t,n)}(e,t,c)},children:[Object(O.jsx)(d.v,{src:v.a.edit,alt:"edit"}),Object(O.jsx)("span",{className:"ml-1",children:"Edit"})]})})}),f]})}))})}))})}))})]})})})})})},m=n(159),p=n(634),f=n(651),x=[{id:1,name:"5 d\xf2ng",value:5},{id:2,name:"10 d\xf2ng",value:10},{id:3,name:"20 d\xf2ng",value:20}],g=[{id:"show",name:" Hi\u1ec7n"},{id:"hide",name:"\u1ea8n"}],C=function(e){var t=e.currentPageList,n=e.setCurrentPageList,c=e.listAdsGroups,a=e.getListAdsGroups,i=e.setCurrentPage,s=e.setRowPerPage,u=e.currentPage,j=e.rowPerPage,b=e.maxPage,v=e.keyWord,C=e.category,N=e.type,y=e.idContentProvider,P=e.idAdsGroup,S=Object(m.b)(),w=Object(r.useState)({content_provider_ids:[],instream_ads_ids:[],is_visible_ads:""}),T=Object(o.a)(w,2),k=T[0],A=T[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(h,{fields:[{key:"T\xean N\u1ed9i Dung"},{key:"Lo\u1ea1i N\u1ed9i Dung"},{key:"Tr\u1ea1ng Th\xe1i N\u1ed9i Dung"},{key:"Content Provider"},{key:"Ads Group"},{key:"Tr\u1ea1ng Th\xe1i"},{key:"Ng\xe0y C\u1eadp Nh\u1eadt"},{key:"Action"},{key:"Add+"}],onChangeStatus:function(e){"show"===(null===e||void 0===e?void 0:e.id)?A(Object(l.a)(Object(l.a)({},k),{},{is_visible_ads:!0})):A(Object(l.a)(Object(l.a)({},k),{},{is_visible_ads:!1}))},StatusData:g,onHandleAdd:function(e){S(Object(p.b)({name:f.a.NAME.CONTENT.ADD_CONTENT,listAdsGroups:c,currentItem:e,currentPage:u,rowPerPage:j,setCurrentPageList:n,getListAdsGroups:a,keyWord:v,category:C,type:N,idContentProvider:y,idAdsGroup:P}))},onEditContentItem:function(e,t,c){S(Object(p.b)({name:f.a.NAME.CONTENT.EDIT_CONTENT,currentItemAds:c,currentItem:e,currentItemContentProvider:t,currentPage:u,rowPerPage:j,setCurrentPageList:n,keyWord:v,category:C,type:N,idContentProvider:y,idAdsGroup:P}))},currentPageList:t}),Object(O.jsxs)("div",{className:"m-1 d-flex justify-content-between align-items-center",children:[Object(O.jsxs)(d.m,{className:"btn-group",style:{width:"100px"},children:[Object(O.jsx)(d.p,{color:"default",className:"shadow-none row-page color-white",children:Object(O.jsx)("span",{className:"mr-2",style:{color:"#222"},children:j+" d\xf2ng"})}),Object(O.jsx)(d.o,{children:x&&(x||[]).map((function(e,t){return Object(O.jsx)(d.n,{onClick:function(){return function(e){s(null===e||void 0===e?void 0:e.value)}(e)},children:null===e||void 0===e?void 0:e.name},t)}))})]}),Object(O.jsx)(d.G,{nextButton:"Sau",previousButton:"Tr\u01b0\u1edbc",activePage:u,pages:b,onActivePageChange:i})]})]})},N={id:"",name:"T\u1ea5t c\u1ea3"},y=function(e){var t=e.typeFilter,n=e.handleChangeType,c=Object(r.useState)(""),a=Object(o.a)(c,2),i=a[0],s=a[1],l=function(e){s(e.name),n&&n(e)};return Object(O.jsxs)("div",{className:"pr-2",children:[Object(O.jsx)("p",{className:"ml-1 mb-2",children:"Lo\u1ea1i n\u1ed9i dung"}),Object(O.jsxs)(d.m,{className:"m-1 btn-group",style:{width:"138px"},children:[Object(O.jsx)(d.p,{color:"default",className:"border color-white",children:Object(O.jsx)("span",{className:"text-filter",children:""===i?"T\u1ea5t c\u1ea3":i})}),Object(O.jsxs)(d.o,{className:"mt-1",children:[Object(O.jsx)(d.n,{onClick:function(){return l(N)},children:null===N||void 0===N?void 0:N.name}),Object(O.jsx)("div",{children:t&&(t||[]).map((function(e,t){return Object(O.jsx)(d.n,{onClick:function(){return l(e)},children:null===e||void 0===e?void 0:e.name},t)}))})]})]})]})},P={id:"",name:"T\u1ea5t c\u1ea3"},S=function(e){var t=e.categoryFilter,n=e.handleChangeCategory,c=Object(r.useState)(""),a=Object(o.a)(c,2),i=a[0],s=a[1],l=function(e){s(null===e||void 0===e?void 0:e.name),n&&n(e)};return Object(O.jsxs)("div",{className:"pr-2",children:[Object(O.jsx)("p",{className:"ml-1 mb-2",children:"Th\u1ec3 lo\u1ea1i"}),Object(O.jsxs)(d.m,{className:"m-1 btn-group",style:{width:"138px"},children:[Object(O.jsx)(d.p,{color:"default",className:"border color-white",children:Object(O.jsx)("span",{className:"text-filter",style:{color:"#222"},children:""===i?"T\u1ea5t c\u1ea3":i})}),Object(O.jsxs)(d.o,{children:[Object(O.jsx)(d.n,{onClick:function(){return l(P)},children:null===P||void 0===P?void 0:P.name}),Object(O.jsx)("div",{children:t&&(t||[]).map((function(e,t){return Object(O.jsx)(d.n,{onClick:function(){return l(e)},children:null===e||void 0===e?void 0:e.name},t)}))})]})]})]})},w=n(644),T=n(800),k=n(803),A=n(788),L=Object(A.a)(Object(u.a)()),E=function(e){var t=L(),n=e.name,c=e.handleScroll,a=e.handleChangeContent,s=e.setName,d=e.listData,u=e.handleChangeContentProvider,j=e.nameDefault,b=Object(r.useState)(!0),v=Object(o.a)(b,2),h=v[0],m=v[1],p=Object(r.useState)([]),f=Object(o.a)(p,2),x=f[0],g=f[1];return Object(r.useEffect)((function(){var e=Object(i.a)(d);e.unshift({id:"all",name:"T\u1ea5t c\u1ea3"}),g(e)}),[d]),Object(O.jsx)(k.a,{classes:t,className:"color-white btn-filter ml-1 mr-1",options:x,getOptionLabel:function(e){return e?(null===e||void 0===e?void 0:e.name)||(null===e||void 0===e?void 0:e.ads_group):""},onChange:function(e,t){a&&a(t),u&&u(t),j||s(t)},onScroll:c,onFocus:function(){m(!1)},size:"small",style:{border:"1px solid #d8dbe0",marginTop:"11px"},renderInput:function(e){return h?Object(O.jsx)(T.a,Object(l.a)(Object(l.a)({},e),{},{label:n||"T\u1ea5t c\u1ea3",variant:"outlined",style:{height:"36px"}})):Object(O.jsx)(T.a,Object(l.a)(Object(l.a)({},e),{},{variant:"outlined",style:{height:"36px"}}))}})},_=function(e){var t=e.handleChangeListName,n=e.dataContentList,c=e.handleScroll,a=e.parsedID,i=Object(r.useState)(""),s=Object(o.a)(i,2),l=s[0],d=s[1];return Object(r.useEffect)((function(){(null===a||void 0===a?void 0:a.id)&&w.a.getContentProviderById(null===a||void 0===a?void 0:a.id).then((function(e){var t=null===e||void 0===e?void 0:e.data;(null===e||void 0===e?void 0:e.success)&&d(null===t||void 0===t?void 0:t.name)}))}),[]),Object(O.jsxs)("div",{className:"pr-2",children:[Object(O.jsx)("p",{className:"ml-1 mb-2",children:"Content provider"}),Object(O.jsx)(E,{listData:n,name:l,handleChangeContent:t,setName:d,handleScroll:c})]})},G=function(e){var t=e.handleChangeAdsGroup,n=e.listAdsGroup,c=Object(r.useState)(""),a=Object(o.a)(c,2),i=a[0],s=a[1];return Object(O.jsxs)("div",{className:"pr-2",children:[Object(O.jsx)("p",{className:"ml-1 mb-2",children:"Ads group"}),n?Object(O.jsx)(E,{name:null===i||void 0===i?void 0:i.ads_group,setName:s,listData:n,handleChangeContent:t}):Object(O.jsx)(d.m,{className:"m-1 btn-group",style:{width:"200px"},children:Object(O.jsx)(d.p,{color:"default",className:"border color-white",children:Object(O.jsx)("span",{className:"padding-ads-dropdown",children:"T\u1ea5t c\u1ea3"})})})]})},I=n(15),D=n(648),B=n(643),F=n(18),H=n(650);t.default=function(){var e,t=Object(m.c)((function(e){return e.InStreamAds})),n=Object(F.f)(),c=Object(m.b)(),l=Object(F.g)(),v=H.parse(l.search),h=null===v||void 0===v?void 0:v.id,p=null===t||void 0===t||null===(e=t.LIST_ALL_INSTREAM_ADS)||void 0===e?void 0:e.items,f=Object(r.useState)([]),x=Object(o.a)(f,2),g=x[0],N=x[1],P=Object(r.useState)(),T=Object(o.a)(P,2),k=T[0],A=T[1],L=Object(r.useState)(1),E=Object(o.a)(L,2),W=E[0],M=E[1],R=Object(r.useState)(10),z=Object(o.a)(R,2),J=z[0],q=z[1],K=Object(r.useState)(1),Q=Object(o.a)(K,2),U=Q[0],V=Q[1],X=Object(r.useState)(""),Y=Object(o.a)(X,2),Z=Y[0],$=Y[1],ee=Object(r.useState)(""),te=Object(o.a)(ee,2),ne=te[0],ce=te[1],ae=Object(r.useState)(""),ie=Object(o.a)(ae,2),se=ie[0],oe=ie[1],re=Object(r.useState)(h||""),le=Object(o.a)(re,2),de=le[0],ue=le[1],je=Object(r.useState)(""),be=Object(o.a)(je,2),ve=be[0],Oe=be[1],he=Object(r.useState)(0),me=Object(o.a)(he,2),pe=me[0],fe=me[1],xe=Object(r.useState)([]),ge=Object(o.a)(xe,2),Ce=ge[0],Ne=ge[1],ye=Object(r.useState)(),Pe=Object(o.a)(ye,2),Se=Pe[0],we=Pe[1];Object(r.useEffect)((function(){function e(){return(e=Object(s.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w.a.getListContentProvider(10,pe).then((function(e){var t=null===e||void 0===e?void 0:e.data;if(null===e||void 0===e?void 0:e.success){we(null===t||void 0===t?void 0:t.metadata);var n=Object(i.a)(Ce).concat(null===t||void 0===t?void 0:t.items);Ne(n)}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[pe]),Object(r.useEffect)((function(){return window.addEventListener("scroll",Te),function(){window.removeEventListener("scroll",Te)}}));var Te=function(){var e=Se||{},t=e.page,n=e.limit,c=e.total,a=Object(u.f)(c,n);(t+1)*n>=c&&t+1>a||fe((t||0)+1)},ke=Object(r.useState)(),Ae=Object(o.a)(ke,2),Le=Ae[0],Ee=Ae[1];Object(r.useEffect)((function(){null===w.a||void 0===w.a||w.a.getContentType().then((function(e){var t=null===e||void 0===e?void 0:e.data;e.success&&Ee(null===t||void 0===t?void 0:t.items)}))}),[]);var _e=Object(r.useState)(),Ge=Object(o.a)(_e,2),Ie=Ge[0],De=Ge[1];Object(r.useEffect)((function(){null===w.a||void 0===w.a||w.a.getContentCategories().then((function(e){var t=null===e||void 0===e?void 0:e.data;e.success&&De(null===t||void 0===t?void 0:t.items)}))}),[]),Object(r.useEffect)((function(){if(g){var e=Object(u.f)(k,J);V(e)}}),[k,J]);var Be=function(){var e=Object(s.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null===t||void 0===t?void 0:t.id,e.next=3,oe(n);case 3:M(1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(e){c(function(e){return function(t){return D.a.getListAllInStreamAds(e).then((function(e){var n={type:I.a.LIST_ALL_INSTREAM_ADS,payload:e};return t(n),e}))}}(e))},He=function(){w.a.getContentList(W-1,J,Z,ne,se,de,ve).then((function(e){if(e.success){var t,n=null===e||void 0===e?void 0:e.data;N(null===n||void 0===n?void 0:n.items),A(null===n||void 0===n||null===(t=n.metadata)||void 0===t?void 0:t.total)}}))};return Object(r.useEffect)((function(){ne||se||de||ve?He():null===w.a||void 0===w.a||w.a.getContentList(W-1,J,Z,ne,se,de,ve).then((function(e){var t,n=null===e||void 0===e?void 0:e.data;(null===e||void 0===e?void 0:e.success)&&(N((function(){return null===n||void 0===n?void 0:n.items})),A(null===n||void 0===n||null===(t=n.metadata)||void 0===t?void 0:t.total))}))}),[W,J,ne,se,de,ve]),Object(O.jsxs)("div",{children:[Object(O.jsx)(B.a,{title:"Content List"}),Object(O.jsxs)("div",{className:"d-flex flex-row",style:{marginBottom:"1rem",maxWidth:"100%"},children:[Object(O.jsx)(y,{typeFilter:Le,handleChangeType:Be}),Object(O.jsx)(S,{categoryFilter:Ie,handleChangeCategory:function(e){var t=null===e||void 0===e?void 0:e.id;ce(t),M(1)}}),Object(O.jsx)(_,{dataContentList:Ce,handleChangeListName:function(e){if("all"===(null===e||void 0===e?void 0:e.id))n.push("/instream-ads/content-list"),ue("");else{var t=null===e||void 0===e?void 0:e.id;ue(t),M(1),t&&Fe(t)}},handleScroll:Te,parsedID:v}),Object(O.jsx)(G,{listAdsGroup:p,handleChangeAdsGroup:function(e){if("all"===(null===e||void 0===e?void 0:e.id))n.push("/instream-ads/content-list"),Oe("");else{var t=null===e||void 0===e?void 0:e.id;Oe(t),M(1)}}}),Object(O.jsx)("div",{className:"pr-2 pl-1",children:Object(O.jsxs)(d.x,{className:"pt-4",style:{marginTop:"0.64rem"},children:[Object(O.jsx)(d.w,{className:"input-search",name:"keyword",type:"text",placeholder:"T\xecm phim / show / k\xeanh",style:{color:"#222"},onChange:function(e){var t,n=null===(t=e.target.value)||void 0===t?void 0:t.toLowerCase();$(n)},onKeyPress:function(e){"Enter"===e.key&&He()}}),Object(O.jsx)("button",{className:"btn btn-square btn-default color-black btn-search",onClick:He,children:Object(O.jsx)(j.a,{content:b.a.cilSearch,size:"lg",style:{margin:0}})})]})})]}),Object(O.jsx)("div",{children:Object(O.jsx)(C,{currentPageList:g,setRowPerPage:q,setCurrentPage:M,rowPerPage:J,currentPage:W,maxPage:U,setCurrentPageList:N,keyWord:Z,category:ne,type:se,idContentProvider:de,idAdsGroup:ve})})]})}}}]);
//# sourceMappingURL=15.9f7e4fa5.chunk.js.map