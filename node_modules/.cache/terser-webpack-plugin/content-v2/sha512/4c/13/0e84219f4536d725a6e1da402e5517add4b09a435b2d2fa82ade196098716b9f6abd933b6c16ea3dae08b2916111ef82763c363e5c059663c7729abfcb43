{"code":"(this[\"webpackJsonpreact-app\"]=this[\"webpackJsonpreact-app\"]||[]).push([[17],{723:function(e,t,c){\"use strict\";c.r(t);var r=c(631),s=c.n(r),a=c(632),n=c(23),l=c(625),o=c(1),i=c(624),j=c(629),d=c(627),u=c(18),b=c(639),O=c(21),p=c(650);t.default=function(){var e=Object(o.useState)({email:\"\",password:\"\"}),t=Object(l.a)(e,2),c=t[0],r=t[1],h=Object(u.f)(),x=Object(u.g)(),v=p.parse(x.search),m=Object(o.useState)({errorUserName:\"\",errorPassword:\"\"}),w=Object(l.a)(m,2),f=w[0],g=w[1],N=Object(o.useState)(!1),y=Object(l.a)(N,2),k=y[0],P=y[1],C=function(){var e=Object(a.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=new Date).setFullYear(t.getFullYear()+1),k?b.a.login(null===c||void 0===c?void 0:c.email,null===c||void 0===c?void 0:c.password).then((function(e){var t=e.data,c=null===t||void 0===t?void 0:t.accessToken,r=null===v||void 0===v?void 0:v.rel;Object(d.i)(c),c?h.push(\"/\"!==r?r:\"/instream-ads/content-provider-list\"):g(Object(n.a)(Object(n.a)({},f),{},{errorPassword:null===t||void 0===t?void 0:t.message}))})):g(Object(n.a)(Object(n.a)({},f),{},{errorUserName:\"Email kh\\xf4ng h\\u1ee3p l\\u1ec7\"}));case 3:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(e){\"Enter\"===e.key&&C()};return Object(O.jsx)(\"div\",{className:\"c-app c-default-layout flex-row align-items-center\",children:Object(O.jsx)(i.j,{children:Object(O.jsx)(i.H,{className:\"justify-content-center\",children:Object(O.jsx)(i.i,{md:\"9\",lg:\"7\",xl:\"6\",children:Object(O.jsx)(i.h,{children:Object(O.jsx)(i.f,{className:\"p-4\",children:Object(O.jsx)(i.g,{children:Object(O.jsxs)(i.r,{children:[Object(O.jsx)(\"h1\",{children:\"Login\"}),Object(O.jsx)(\"p\",{className:\"text-muted\",children:\"Sign In to your account\"}),Object(O.jsxs)(i.x,{className:\"mb-3\",children:[Object(O.jsx)(i.z,{children:Object(O.jsx)(i.A,{children:Object(O.jsx)(j.a,{name:\"cil-user\"})})}),Object(O.jsx)(i.w,{type:\"text\",placeholder:\"Username\",autoComplete:\"username\",onChange:function(e){var t,s=null===(t=e.target)||void 0===t?void 0:t.value,a=Object(d.l)(s);P(a),r(Object(n.a)(Object(n.a)({},c),{},{email:s}))},onKeyPress:U})]}),(null===f||void 0===f?void 0:f.errorUserName)&&Object(O.jsx)(\"p\",{className:\"text\",style:{color:\"red\",textAlign:\"end\"},children:null===f||void 0===f?void 0:f.errorUserName}),Object(O.jsxs)(i.x,{className:\"mb-3\",children:[Object(O.jsx)(i.z,{children:Object(O.jsx)(i.A,{children:Object(O.jsx)(j.a,{name:\"cil-lock-locked\"})})}),Object(O.jsx)(i.w,{type:\"password\",placeholder:\"Password\",autoComplete:\"current-password\",onChange:function(e){var t=e.target.value;r(Object(n.a)(Object(n.a)({},c),{},{password:t}))},onKeyPress:U})]}),(null===f||void 0===f?void 0:f.errorPassword)&&Object(O.jsx)(\"p\",{style:{color:\"red\",textAlign:\"end\"},children:null===f||void 0===f?void 0:f.errorPassword}),Object(O.jsx)(i.d,{color:\"success\",className:\"px-4\",block:!0,onClick:C,children:\"Login\"})]})})})})})})})})}}}]);","name":"static/js/17.2c560e25.chunk.js","map":{"version":3,"sources":["static/js/17.2c560e25.chunk.js"],"names":["this","push","723","module","__webpack_exports__","__webpack_require__","r","_Users_admin_Desktop_SourceDevVieON_LiveEvent_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","_Users_admin_Desktop_SourceDevVieON_LiveEvent_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","n","_Users_admin_Desktop_SourceDevVieON_LiveEvent_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_admin_Desktop_SourceDevVieON_LiveEvent_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__","_Users_admin_Desktop_SourceDevVieON_LiveEvent_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__","react__WEBPACK_IMPORTED_MODULE_4__","_coreui_react__WEBPACK_IMPORTED_MODULE_5__","_coreui_icons_react__WEBPACK_IMPORTED_MODULE_6__","_helpers_common__WEBPACK_IMPORTED_MODULE_7__","react_router_dom__WEBPACK_IMPORTED_MODULE_8__","_apis_userApi__WEBPACK_IMPORTED_MODULE_9__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__","queryString","_useState","Object","email","password","_useState2","emailValue","setEmail","history","location","parsedURL","parse","search","_useState3","errorUserName","errorPassword","_useState4","error","setError","_useState5","_useState6","validatedEmail","setValidatedEmail","onLogin","_ref","a","mark","_callee","timeNow","wrap","_context","prev","next","Date","setFullYear","getFullYear","login","then","res","data","accessToken","url","rel","message","stop","apply","arguments","handleKeyPress","event","key","className","children","md","lg","xl","name","type","placeholder","autoComplete","onChange","e","_e$target","value","target","checkValueEmail","onKeyPress","style","color","textAlign","block","onClick"],"mappings":"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"},"input":"(this[\"webpackJsonpreact-app\"] = this[\"webpackJsonpreact-app\"] || []).push([[17],{\n\n/***/ 723:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Users_admin_Desktop_SourceDevVieON_LiveEvent_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(631);\n/* harmony import */ var _Users_admin_Desktop_SourceDevVieON_LiveEvent_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Users_admin_Desktop_SourceDevVieON_LiveEvent_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Users_admin_Desktop_SourceDevVieON_LiveEvent_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(632);\n/* harmony import */ var _Users_admin_Desktop_SourceDevVieON_LiveEvent_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(23);\n/* harmony import */ var _Users_admin_Desktop_SourceDevVieON_LiveEvent_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(625);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(1);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _coreui_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(624);\n/* harmony import */ var _coreui_icons_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(629);\n/* harmony import */ var _helpers_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(627);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(18);\n/* harmony import */ var _apis_userApi__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(639);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(21);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__);\nvar queryString=__webpack_require__(650);var Login=function Login(){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])({email:'',password:''}),_useState2=Object(_Users_admin_Desktop_SourceDevVieON_LiveEvent_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_useState,2),emailValue=_useState2[0],setEmail=_useState2[1];var history=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_8__[/* useHistory */ \"f\"])();var location=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_8__[/* useLocation */ \"g\"])();var parsedURL=queryString.parse(location.search);var _useState3=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])({errorUserName:'',errorPassword:''}),_useState4=Object(_Users_admin_Desktop_SourceDevVieON_LiveEvent_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(false),_useState6=Object(_Users_admin_Desktop_SourceDevVieON_LiveEvent_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_useState5,2),validatedEmail=_useState6[0],setValidatedEmail=_useState6[1];var onChangeUserName=function onChangeUserName(e){var _e$target;var value=(_e$target=e.target)===null||_e$target===void 0?void 0:_e$target.value;var checkValueEmail=Object(_helpers_common__WEBPACK_IMPORTED_MODULE_7__[/* validateEmail */ \"l\"])(value);setValidatedEmail(checkValueEmail);setEmail(Object(_Users_admin_Desktop_SourceDevVieON_LiveEvent_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(Object(_Users_admin_Desktop_SourceDevVieON_LiveEvent_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])({},emailValue),{},{email:value}));};var onChangePassWord=function onChangePassWord(e){var value=e.target.value;setEmail(Object(_Users_admin_Desktop_SourceDevVieON_LiveEvent_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(Object(_Users_admin_Desktop_SourceDevVieON_LiveEvent_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])({},emailValue),{},{password:value}));};var onLogin=/*#__PURE__*/function(){var _ref=Object(_Users_admin_Desktop_SourceDevVieON_LiveEvent_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(/*#__PURE__*/_Users_admin_Desktop_SourceDevVieON_LiveEvent_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(){var timeNow;return _Users_admin_Desktop_SourceDevVieON_LiveEvent_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:timeNow=new Date();timeNow.setFullYear(timeNow.getFullYear()+1);if(validatedEmail){_apis_userApi__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"].login(emailValue===null||emailValue===void 0?void 0:emailValue.email,emailValue===null||emailValue===void 0?void 0:emailValue.password).then(function(res){var data=res.data;var accessToken=data===null||data===void 0?void 0:data.accessToken;var url=parsedURL===null||parsedURL===void 0?void 0:parsedURL.rel;Object(_helpers_common__WEBPACK_IMPORTED_MODULE_7__[/* saveAccessToken */ \"i\"])(accessToken);if(accessToken){history.push(url!=='/'?url:'/instream-ads/content-provider-list');// save cookie\n}else{setError(Object(_Users_admin_Desktop_SourceDevVieON_LiveEvent_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(Object(_Users_admin_Desktop_SourceDevVieON_LiveEvent_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])({},error),{},{errorPassword:data===null||data===void 0?void 0:data.message}));}});}else{setError(Object(_Users_admin_Desktop_SourceDevVieON_LiveEvent_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(Object(_Users_admin_Desktop_SourceDevVieON_LiveEvent_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])({},error),{},{errorUserName:'Email không hợp lệ'}));}case 3:case\"end\":return _context.stop();}}},_callee);}));return function onLogin(){return _ref.apply(this,arguments);};}();var handleKeyPress=function handleKeyPress(event){if(event.key==='Enter'){onLogin();}};return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"div\",{className:\"c-app c-default-layout flex-row align-items-center\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_coreui_react__WEBPACK_IMPORTED_MODULE_5__[/* CContainer */ \"j\"],{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_coreui_react__WEBPACK_IMPORTED_MODULE_5__[/* CRow */ \"H\"],{className:\"justify-content-center\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_coreui_react__WEBPACK_IMPORTED_MODULE_5__[/* CCol */ \"i\"],{md:\"9\",lg:\"7\",xl:\"6\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_coreui_react__WEBPACK_IMPORTED_MODULE_5__[/* CCardGroup */ \"h\"],{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_coreui_react__WEBPACK_IMPORTED_MODULE_5__[/* CCard */ \"f\"],{className:\"p-4\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_coreui_react__WEBPACK_IMPORTED_MODULE_5__[/* CCardBody */ \"g\"],{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(_coreui_react__WEBPACK_IMPORTED_MODULE_5__[/* CForm */ \"r\"],{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"h1\",{children:\"Login\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"p\",{className:\"text-muted\",children:\"Sign In to your account\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(_coreui_react__WEBPACK_IMPORTED_MODULE_5__[/* CInputGroup */ \"x\"],{className:\"mb-3\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_coreui_react__WEBPACK_IMPORTED_MODULE_5__[/* CInputGroupPrepend */ \"z\"],{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_coreui_react__WEBPACK_IMPORTED_MODULE_5__[/* CInputGroupText */ \"A\"],{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_coreui_icons_react__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"],{name:\"cil-user\"})})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_coreui_react__WEBPACK_IMPORTED_MODULE_5__[/* CInput */ \"w\"],{type:\"text\",placeholder:\"Username\",autoComplete:\"username\",onChange:onChangeUserName,onKeyPress:handleKeyPress})]}),(error===null||error===void 0?void 0:error.errorUserName)&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"p\",{className:\"text\",style:{color:'red',textAlign:'end'},children:error===null||error===void 0?void 0:error.errorUserName}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsxs\"])(_coreui_react__WEBPACK_IMPORTED_MODULE_5__[/* CInputGroup */ \"x\"],{className:\"mb-3\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_coreui_react__WEBPACK_IMPORTED_MODULE_5__[/* CInputGroupPrepend */ \"z\"],{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_coreui_react__WEBPACK_IMPORTED_MODULE_5__[/* CInputGroupText */ \"A\"],{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_coreui_icons_react__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"],{name:\"cil-lock-locked\"})})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_coreui_react__WEBPACK_IMPORTED_MODULE_5__[/* CInput */ \"w\"],{type:\"password\",placeholder:\"Password\",autoComplete:\"current-password\",onChange:onChangePassWord,onKeyPress:handleKeyPress})]}),(error===null||error===void 0?void 0:error.errorPassword)&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(\"p\",{style:{color:'red',textAlign:'end'},children:error===null||error===void 0?void 0:error.errorPassword}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__[\"jsx\"])(_coreui_react__WEBPACK_IMPORTED_MODULE_5__[/* CButton */ \"d\"],{color:\"success\",className:\"px-4\",block:true,onClick:onLogin,children:\"Login\"})]})})})})})})})});};/* harmony default export */ __webpack_exports__[\"default\"] = (Login);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/admin/Desktop/SourceDevVieON/LiveEvent/src/views/users/login/Login.js"],"names":["queryString","require","Login","useState","email","password","emailValue","setEmail","history","useHistory","location","useLocation","parsedURL","parse","search","errorUserName","errorPassword","error","setError","validatedEmail","setValidatedEmail","onChangeUserName","e","value","target","checkValueEmail","validateEmail","onChangePassWord","onLogin","timeNow","Date","setFullYear","getFullYear","UserApi","login","then","res","data","accessToken","url","rel","saveAccessToken","push","message","handleKeyPress","event","key","color","textAlign"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAwBA,GAAMA,YAAW,CAAGC,mBAAO,CAAC,GAAD,CAA3B,CAGA,GAAMC,MAAK,CAAG,QAARA,MAAQ,EAAM,CAClB,cAA+BC,sDAAQ,CAAC,CACtCC,KAAK,CAAC,EADgC,CAEtCC,QAAQ,CAAC,EAF6B,CAAD,CAAvC,wNAAOC,UAAP,eAAmBC,QAAnB,eAIA,GAAMC,QAAO,CAAGC,2EAAU,EAA1B,CACA,GAAMC,SAAQ,CAAGC,4EAAW,EAA5B,CAEA,GAAMC,UAAS,CAAGZ,WAAW,CAACa,KAAZ,CAAkBH,QAAQ,CAACI,MAA3B,CAAlB,CAEA,eAA0BX,sDAAQ,CAAC,CACjCY,aAAa,CAAE,EADkB,CAEjCC,aAAa,CAAE,EAFkB,CAAD,CAAlC,yNAAOC,KAAP,eAAcC,QAAd,eAKA,eAA4Cf,sDAAQ,CAAC,KAAD,CAApD,yNAAOgB,cAAP,eAAuBC,iBAAvB,eAEA,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAmB,CAACC,CAAD,CAAO,eAC9B,GAAMC,MAAK,YAAGD,CAAC,CAACE,MAAL,oCAAG,UAAUD,KAAxB,CACA,GAAME,gBAAe,CAAGC,6EAAa,CAACH,KAAD,CAArC,CACAH,iBAAiB,CAACK,eAAD,CAAjB,CACAlB,QAAQ,CAAC,iYAAID,UAAL,MAAiBF,KAAK,CAAEmB,KAAxB,GAAR,CACD,CALD,CAMA,GAAMI,iBAAgB,CAAG,QAAnBA,iBAAmB,CAACL,CAAD,CAAO,CAC9B,GAAMC,MAAK,CAAGD,CAAC,CAACE,MAAF,CAASD,KAAvB,CACAhB,QAAQ,CAAC,iYAAID,UAAL,MAAiBD,QAAQ,CAAEkB,KAA3B,GAAR,CACD,CAHD,CAKA,GAAMK,QAAO,sZAAG,2RACRC,OADQ,CACE,GAAIC,KAAJ,EADF,CAEdD,OAAO,CAACE,WAAR,CAAoBF,OAAO,CAACG,WAAR,GAAwB,CAA5C,EACA,GAAIb,cAAJ,CAAmB,CACjBc,6DAAO,CAACC,KAAR,CAAc5B,UAAd,SAAcA,UAAd,iBAAcA,UAAU,CAAEF,KAA1B,CAAiCE,UAAjC,SAAiCA,UAAjC,iBAAiCA,UAAU,CAAED,QAA7C,EAAuD8B,IAAvD,CAA4D,SAAAC,GAAG,CAAE,CAC/D,GAAMC,KAAI,CAAGD,GAAG,CAACC,IAAjB,CACA,GAAMC,YAAW,CAAGD,IAAH,SAAGA,IAAH,iBAAGA,IAAI,CAAEC,WAA1B,CACA,GAAMC,IAAG,CAAG3B,SAAH,SAAGA,SAAH,iBAAGA,SAAS,CAAE4B,GAAvB,CACAC,+EAAe,CAACH,WAAD,CAAf,CACA,GAAIA,WAAJ,CAAgB,CACd9B,OAAO,CAACkC,IAAR,CACIH,GAAG,GAAK,GAAR,CACEA,GADF,CAEE,qCAHN,EAIA;AACD,CAND,IAMM,CACJrB,QAAQ,CAAC,iYAAID,KAAL,MAAYD,aAAa,CAAEqB,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEM,OAAjC,GAAR,CACD,CACF,CAdD,EAeD,CAhBD,IAgBM,CACJzB,QAAQ,CAAC,iYAAID,KAAL,MAAYF,aAAa,CAAE,oBAA3B,GAAR,CACD,CArBa,sDAAH,kBAAPa,QAAO,0CAAb,CAwBA,GAAMgB,eAAc,CAAG,QAAjBA,eAAiB,CAACC,KAAD,CAAW,CAChC,GAAIA,KAAK,CAACC,GAAN,GAAc,OAAlB,CAA2B,CACzBlB,OAAO,GACR,CACF,CAJD,CAMA,mBACE,sEAAK,SAAS,CAAC,oDAAf,uBACE,+DAAC,gEAAD,wBACE,+DAAC,0DAAD,EAAM,SAAS,CAAC,wBAAhB,uBACE,+DAAC,0DAAD,EAAM,EAAE,CAAC,GAAT,CAAa,EAAE,CAAC,GAAhB,CAAoB,EAAE,CAAC,GAAvB,uBACE,+DAAC,gEAAD,wBACE,+DAAC,2DAAD,EAAO,SAAS,CAAC,KAAjB,uBACE,+DAAC,+DAAD,wBACE,gEAAC,2DAAD,yBACE,uFADF,cAEE,oEAAG,SAAS,CAAC,YAAb,qCAFF,cAGE,gEAAC,iEAAD,EAAa,SAAS,CAAC,MAAvB,wBACE,+DAAC,wEAAD,wBACE,+DAAC,qEAAD,wBACE,+DAAC,mEAAD,EAAO,IAAI,CAAC,UAAZ,EADF,EADF,EADF,cAME,+DAAC,4DAAD,EAAQ,IAAI,CAAC,MAAb,CAAoB,WAAW,CAAC,UAAhC,CAA2C,YAAY,CAAC,UAAxD,CACQ,QAAQ,CAAEP,gBADlB,CAEQ,UAAU,CAAEuB,cAFpB,EANF,GAHF,CAaG,CAAA3B,KAAK,OAAL,EAAAA,KAAK,SAAL,QAAAA,KAAK,CAAEF,aAAP,gBACC,oEAAG,SAAS,CAAC,MAAb,CAAoB,KAAK,CAAE,CAACgC,KAAK,CAAE,KAAR,CAAeC,SAAS,CAAE,KAA1B,CAA3B,UAA8D/B,KAA9D,SAA8DA,KAA9D,iBAA8DA,KAAK,CAAEF,aAArE,EAdJ,cAgBE,gEAAC,iEAAD,EAAa,SAAS,CAAC,MAAvB,wBACE,+DAAC,wEAAD,wBACE,+DAAC,qEAAD,wBACE,+DAAC,mEAAD,EAAO,IAAI,CAAC,iBAAZ,EADF,EADF,EADF,cAME,+DAAC,4DAAD,EAAQ,IAAI,CAAC,UAAb,CAAwB,WAAW,CAAC,UAApC,CAA+C,YAAY,CAAC,kBAA5D,CACQ,QAAQ,CAAEY,gBADlB,CAEQ,UAAU,CAAEiB,cAFpB,EANF,GAhBF,CA0BG,CAAA3B,KAAK,OAAL,EAAAA,KAAK,SAAL,QAAAA,KAAK,CAAED,aAAP,gBACC,oEAAI,KAAK,CAAE,CAAC+B,KAAK,CAAE,KAAR,CAAeC,SAAS,CAAE,KAA1B,CAAX,UAA8C/B,KAA9C,SAA8CA,KAA9C,iBAA8CA,KAAK,CAAED,aAArD,EA3BJ,cA6BE,+DAAC,6DAAD,EAAS,KAAK,CAAC,SAAf,CAAyB,SAAS,CAAC,MAAnC,CAA0C,KAAK,KAA/C,CAAgD,OAAO,CAAEY,OAAzD,mBA7BF,GADF,EADF,EADF,EADF,EADF,EADF,EADF,EADF,CA+CD,CAzGD,CA2Ge1B,oEAAf,E","file":"x","sourcesContent":["import React, { useState} from 'react'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardGroup,\n  CCol,\n  CContainer,\n  CForm,\n  CInput,\n  CInputGroup,\n  CInputGroupPrepend,\n  CInputGroupText,\n  CRow\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\nimport {validateEmail, saveAccessToken} from \"../../../helpers/common\";\n\nimport {\n  useHistory, useLocation,\n} from \"react-router-dom\"\nimport UserApi from \"../../../apis/userApi\";\n\n\nconst queryString = require('query-string');\n\n\nconst Login = () => {\n  const [emailValue, setEmail] = useState({\n    email:'',\n    password:'',\n  })\n  const history = useHistory()\n  const location = useLocation();\n\n  const parsedURL = queryString.parse(location.search)\n\n  const [error, setError] = useState({\n    errorUserName: '',\n    errorPassword: '',\n  })\n\n  const [validatedEmail, setValidatedEmail] = useState(false)\n\n  const onChangeUserName = (e) => {\n    const value = e.target?.value\n    const checkValueEmail = validateEmail(value)\n    setValidatedEmail(checkValueEmail)\n    setEmail({...emailValue, email: value})\n  }\n  const onChangePassWord = (e) => {\n    const value = e.target.value\n    setEmail({...emailValue, password: value})\n  }\n\n  const onLogin = async () => {\n    const timeNow = new Date()\n    timeNow.setFullYear(timeNow.getFullYear() + 1)\n    if (validatedEmail){\n      UserApi.login(emailValue?.email, emailValue?.password).then(res=>{\n        const data = res.data\n        const accessToken = data?.accessToken\n        const url = parsedURL?.rel\n        saveAccessToken(accessToken)\n        if (accessToken){\n          history.push(\n              url !== '/'\n              ? url\n              : '/instream-ads/content-provider-list')\n          // save cookie\n        }else {\n          setError({...error, errorPassword: data?.message})\n        }\n      })\n    }else {\n      setError({...error, errorUserName: 'Email không hợp lệ' })\n    }\n\n  }\n  const handleKeyPress = (event) => {\n    if (event.key === 'Enter') {\n      onLogin()\n    }\n  }\n\n  return (\n    <div className=\"c-app c-default-layout flex-row align-items-center\">\n      <CContainer>\n        <CRow className=\"justify-content-center\">\n          <CCol md=\"9\" lg=\"7\" xl=\"6\">\n            <CCardGroup>\n              <CCard className=\"p-4\">\n                <CCardBody>\n                  <CForm>\n                    <h1>Login</h1>\n                    <p className=\"text-muted\">Sign In to your account</p>\n                    <CInputGroup className=\"mb-3\">\n                      <CInputGroupPrepend>\n                        <CInputGroupText>\n                          <CIcon name=\"cil-user\" />\n                        </CInputGroupText>\n                      </CInputGroupPrepend>\n                      <CInput type=\"text\" placeholder=\"Username\" autoComplete=\"username\"\n                              onChange={onChangeUserName}\n                              onKeyPress={handleKeyPress}/>\n                    </CInputGroup>\n                    {error?.errorUserName &&\n                      <p className=\"text\" style={{color: 'red', textAlign: 'end'}}>{error?.errorUserName}</p>\n                    }\n                    <CInputGroup className=\"mb-3\">\n                      <CInputGroupPrepend>\n                        <CInputGroupText>\n                          <CIcon name=\"cil-lock-locked\" />\n                        </CInputGroupText>\n                      </CInputGroupPrepend>\n                      <CInput type=\"password\" placeholder=\"Password\" autoComplete=\"current-password\"\n                              onChange={onChangePassWord}\n                              onKeyPress={handleKeyPress}/>\n                    </CInputGroup>\n                    {error?.errorPassword &&\n                      <p  style={{color: 'red', textAlign: 'end'}}>{error?.errorPassword}</p>\n                    }\n                    <CButton color=\"success\" className=\"px-4\" block onClick={onLogin}>Login</CButton>\n                  </CForm>\n                </CCardBody>\n              </CCard>\n            </CCardGroup>\n          </CCol>\n        </CRow>\n      </CContainer>\n    </div>\n  )\n}\n\nexport default Login\n"]}}