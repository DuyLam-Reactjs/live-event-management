{"ast":null,"code":"import axios from \"axios/index\";\nimport cookie from 'react-cookies';\nimport ConfigCookie from './config/ConfigCookie';\naxios.interceptors.request.use(cfg => {\n  cfg.timeout = 10000;\n\n  if (!cfg.params) {\n    cfg.params = {};\n  }\n\n  const accessToken = cookie.load(ConfigCookie.getTokenKey());\n\n  if (accessToken) {\n    cfg.headers['Authorization'] = accessToken || '';\n    cfg.headers['vieon-api-key'] = accessToken || '';\n    console.log(cfg);\n    return cfg;\n  }\n\n  return cfg;\n}, error => {\n  return Promise.reject(error);\n});\nexport default axios;","map":{"version":3,"sources":["/Users/admin/Desktop/SourceDevVieON/LiveEvent/src/customRequest.js"],"names":["axios","cookie","ConfigCookie","interceptors","request","use","cfg","timeout","params","accessToken","load","getTokenKey","headers","console","log","error","Promise","reject"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,aAAlB;AACA,OAAOC,MAAP,MAAmB,eAAnB;AACA,OAAOC,YAAP,MAAyB,uBAAzB;AAGAF,KAAK,CAACG,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+BC,GAAG,IAAI;AAClCA,EAAAA,GAAG,CAACC,OAAJ,GAAc,KAAd;;AACA,MAAG,CAACD,GAAG,CAACE,MAAR,EAAe;AACXF,IAAAA,GAAG,CAACE,MAAJ,GAAa,EAAb;AACH;;AACD,QAAMC,WAAW,GAAGR,MAAM,CAACS,IAAP,CAAYR,YAAY,CAACS,WAAb,EAAZ,CAApB;;AACA,MAAIF,WAAJ,EAAiB;AACbH,IAAAA,GAAG,CAACM,OAAJ,CAAY,eAAZ,IAA+BH,WAAW,IAAI,EAA9C;AACAH,IAAAA,GAAG,CAACM,OAAJ,CAAY,eAAZ,IAA+BH,WAAW,IAAI,EAA9C;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAYR,GAAZ;AACA,WAAOA,GAAP;AACH;;AACD,SAAOA,GAAP;AAEH,CAdD,EAcGS,KAAK,IAAI;AACR,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CAhBD;AAiBA,eAAef,KAAf","sourcesContent":["import axios from \"axios/index\";\nimport cookie from 'react-cookies';\nimport ConfigCookie from './config/ConfigCookie'\n\n\naxios.interceptors.request.use(cfg => {\n    cfg.timeout = 10000;\n    if(!cfg.params){\n        cfg.params = {}\n    }\n    const accessToken = cookie.load(ConfigCookie.getTokenKey());\n    if (accessToken) {\n        cfg.headers['Authorization'] = accessToken || '';\n        cfg.headers['vieon-api-key'] = accessToken || '';\n        console.log(cfg)\n        return cfg;\n    }\n    return cfg\n\n}, error => {\n    return Promise.reject(error);\n});\nexport default axios\n"]},"metadata":{},"sourceType":"module"}