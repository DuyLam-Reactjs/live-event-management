{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Desktop/SourceDevVieON/LiveEvent/src/views/LiveManagementEvent/Popup/PopupEditLiveEvent.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { CButton, CModal, CModalBody, CModalFooter, CModalHeader, CRow } from \"@coreui/react\";\nimport CIcon from \"@coreui/icons-react\";\nimport SkipAfterInStreamAds from \"../CreateContentProvider/CreateStreamAds/SkipAfterInStreamAds\";\nimport SkipInStreamAds from \"../CreateContentProvider/CreateStreamAds/SkipInStreamAds\";\nimport StatusInStreamAds from \"../CreateContentProvider/CreateStreamAds/StatusInStreamAds\";\nimport VastUrlInStreamAds from \"../CreateContentProvider/CreateStreamAds/VastUrlInStreamAds\";\nimport TypeInStreamAds from \"../CreateContentProvider/CreateStreamAds/TypeInStreamAds\";\nimport ContentInStreamAds from \"../CreateContentProvider/CreateStreamAds/ContentInStreamAds\";\nimport PlatformInStreamAds from \"../CreateContentProvider/CreateStreamAds/PlatFormInStreamAds\";\nimport GroupInStreamAds from \"../CreateContentProvider/CreateStreamAds/GroupInStreamAds\";\nimport { useDispatch } from \"react-redux\";\nimport { closePopup } from \"../../../actions/popup\";\nimport { handleLocalStorage, sendToast } from \"../../../helpers/common\";\nimport LiveEventApi from \"../../../apis/liveEventApi\";\nimport LocalStorage from \"../../../config/LocalStorage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst PopupEditLiveEvent = props => {\n  _s();\n\n  const {\n    newData,\n    setNewData,\n    itemAds,\n    index,\n    parsedID,\n    item\n  } = props;\n  const [dataInStreamAds, setDataAds] = useState({\n    group: 'default',\n    type: 'Pre-roll',\n    vast_url: {\n      url_1: '',\n      url_2: '',\n      url_3: '',\n      bumper: ''\n    },\n    status: 1,\n    can_skip: true,\n    skip_after: 5,\n    platform: '',\n    is_all_platform: true,\n    content: {\n      id: '',\n      title: ''\n    }\n  });\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (itemAds) setDataAds(itemAds);\n  }, [itemAds]);\n\n  const handleClose = () => {\n    dispatch(closePopup());\n  };\n\n  const onChangeNameGroup = value => {\n    setDataAds({ ...dataInStreamAds,\n      group: value\n    });\n  };\n\n  const onChangeTimeSkip = value => {\n    setDataAds({ ...dataInStreamAds,\n      skip_after: value\n    });\n  };\n\n  const onChangeType = item => {\n    setDataAds({ ...dataInStreamAds,\n      type: item\n    });\n  };\n\n  const onChangeStatus = item => {\n    setDataAds({ ...dataInStreamAds,\n      status: item === null || item === void 0 ? void 0 : item.status\n    });\n  };\n\n  const onChangeSkip = item => {\n    setDataAds({ ...dataInStreamAds,\n      can_skip: item === null || item === void 0 ? void 0 : item.can_skip\n    });\n  };\n\n  const onChangePlatform = item => {\n    setDataAds({ ...dataInStreamAds,\n      platform: item === null || item === void 0 ? void 0 : item.name,\n      is_all_platform: item === null || item === void 0 ? void 0 : item.is_all_platform\n    });\n  };\n\n  const setVastUrl = vastUrl => {\n    setDataAds({ ...dataInStreamAds,\n      vast_url: vastUrl\n    });\n  };\n\n  const setContent = content => {\n    const title = content === null || content === void 0 ? void 0 : content.name;\n    const id = content === null || content === void 0 ? void 0 : content.id;\n    const newContent = new Object({\n      id,\n      title\n    });\n    setDataAds({ ...dataInStreamAds,\n      content: newContent\n    });\n  };\n\n  const onEditInStreamAds = () => {\n    var _dataInStreamAds$cont, _dataInStreamAds$cont2;\n\n    let idContentProvider = handleLocalStorage(LocalStorage.GET, LocalStorage.CONTENT_PROVIDER);\n    const idAds = itemAds === null || itemAds === void 0 ? void 0 : itemAds.id;\n\n    if (idAds && (dataInStreamAds === null || dataInStreamAds === void 0 ? void 0 : (_dataInStreamAds$cont = dataInStreamAds.content) === null || _dataInStreamAds$cont === void 0 ? void 0 : _dataInStreamAds$cont.id)) {\n      if (dataInStreamAds === null || dataInStreamAds === void 0 ? void 0 : dataInStreamAds.group) {\n        LiveEventApi.editInStreamAdsById(idAds, dataInStreamAds, (parsedID === null || parsedID === void 0 ? void 0 : parsedID.id) || idContentProvider, false).then(res => {\n          const data = res === null || res === void 0 ? void 0 : res.data;\n\n          if (res === null || res === void 0 ? void 0 : res.success) {\n            const newDataGroup = [...newData];\n            newDataGroup.splice(index, 1, data);\n            setNewData(newDataGroup);\n            dispatch(closePopup());\n          } else {\n            sendToast({\n              message: data === null || data === void 0 ? void 0 : data.message\n            });\n          }\n        });\n      } else {\n        sendToast({\n          message: 'Tên nhóm là trường bắt buộc. '\n        });\n      }\n    }\n\n    if (idAds && !(dataInStreamAds === null || dataInStreamAds === void 0 ? void 0 : (_dataInStreamAds$cont2 = dataInStreamAds.content) === null || _dataInStreamAds$cont2 === void 0 ? void 0 : _dataInStreamAds$cont2.id)) {\n      if (dataInStreamAds === null || dataInStreamAds === void 0 ? void 0 : dataInStreamAds.group) {\n        LiveEventApi.editInStreamAdsById(idAds, dataInStreamAds, (parsedID === null || parsedID === void 0 ? void 0 : parsedID.id) || idContentProvider, true).then(res => {\n          const data = res === null || res === void 0 ? void 0 : res.data;\n\n          if (res === null || res === void 0 ? void 0 : res.success) {\n            const newDataGroup = [...newData];\n            newDataGroup.splice(index, 1, data);\n            setNewData(newDataGroup);\n            dispatch(closePopup());\n          } else {\n            sendToast({\n              message: data === null || data === void 0 ? void 0 : data.message\n            });\n          }\n        });\n      } else {\n        sendToast({\n          message: 'Tên nhóm là trường bắt buộc. '\n        });\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(CModal, {\n      closeOnBackdrop: false,\n      show: true,\n      onClose: handleClose,\n      centered: true,\n      size: 'xl',\n      children: [/*#__PURE__*/_jsxDEV(CModalHeader, {\n        style: {\n          backgroundColor: '#646464'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-100 d-flex justify-content-between align-items-center\",\n          style: {\n            color: \"#FFF\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"mb-0\",\n            children: 'Thông tin sự kiện'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(CButton, {\n            className: \"p-0 shadow-none\",\n            onClick: handleClose,\n            children: /*#__PURE__*/_jsxDEV(CIcon, {\n              name: \"cil-x\",\n              style: {\n                color: \"#FFF\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(CModalBody, {\n        children: [/*#__PURE__*/_jsxDEV(GroupInStreamAds, {\n          itemAds: itemAds,\n          onChangeNameGroup: onChangeNameGroup\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TypeInStreamAds, {\n          itemAds: dataInStreamAds,\n          dataInStreamAdsType: dataInStreamAdsType,\n          onChangeType: onChangeType\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(VastUrlInStreamAds, {\n          itemAds: dataInStreamAds,\n          setVastUrl: setVastUrl,\n          dataInStreamAdsType: dataInStreamAdsType\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StatusInStreamAds, {\n          itemAds: dataInStreamAds,\n          dataInStreamAdsStatus: dataInStreamAdsStatus,\n          onChangeStatus: onChangeStatus\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SkipInStreamAds, {\n          itemAds: dataInStreamAds,\n          dataInStreamAdsSkip: dataInStreamAdsSkip,\n          onChangeSkip: onChangeSkip\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SkipAfterInStreamAds, {\n          itemAds: dataInStreamAds,\n          onChangeTimeSkip: onChangeTimeSkip\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PlatformInStreamAds, {\n          itemAds: dataInStreamAds,\n          onChangePlatform: onChangePlatform,\n          dataInStreamAdsPlatForm: dataInStreamAdsPlatForm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ContentInStreamAds, {\n          itemAds: dataInStreamAds,\n          dataInStreamAdsContent: dataInStreamAdsContent,\n          setContent: setContent,\n          dataInStreamAdsType: dataInStreamAdsType\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(CModalFooter, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-end mt-3\",\n          children: /*#__PURE__*/_jsxDEV(CButton, {\n            className: \"pl-4 pr-4\",\n            color: \"success\",\n            onClick: () => onEditInStreamAds(),\n            children: 'Lưu'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 5\n    }, this)\n  }, void 0, false);\n};\n\n_s(PopupEditLiveEvent, \"f103EUCo8YB173YG+khGReLZVqM=\", false, function () {\n  return [useDispatch];\n});\n\n_c = PopupEditLiveEvent;\nconst dataInStreamAdsType = [{\n  id: 'Pre-roll',\n  name: 'Pre-roll'\n}, {\n  id: 'Mid-roll',\n  name: 'Mid-roll'\n}];\nconst dataInStreamAdsStatus = [{\n  id: 'show',\n  name: 'Hiện',\n  status: 1\n}, {\n  id: 'hide',\n  name: 'Ẩn',\n  status: 0\n}];\nconst dataInStreamAdsSkip = [{\n  id: 'yes',\n  name: 'Có',\n  can_skip: true\n}, {\n  id: 'no',\n  name: 'Không',\n  can_skip: false\n}];\nconst dataInStreamAdsPlatForm = [{\n  id: 'all',\n  name: 'Tất cả',\n  is_all_platform: true\n}, {\n  id: 'web',\n  name: 'Web',\n  is_all_platform: false\n}, {\n  id: 'iOS',\n  name: 'iOS',\n  is_all_platform: false\n}, {\n  id: 'Android',\n  name: 'Android',\n  is_all_platform: false\n}, {\n  id: 'AndroidTV',\n  name: 'AndroidTV',\n  is_all_platform: false\n}, {\n  id: 'Samsung-TV',\n  name: 'Samsung-TV',\n  is_all_platform: false\n}, {\n  id: 'LG-TV',\n  name: 'LG-TV',\n  is_all_platform: false\n}];\nconst dataInStreamAdsContent = [{\n  id: 'all',\n  name: 'Tất cả',\n  is_all_content: true\n}, {\n  id: 'filter',\n  name: 'Chọn nội dung ...',\n  is_all_content: false\n}];\nexport default PopupEditLiveEvent;\n\nvar _c;\n\n$RefreshReg$(_c, \"PopupEditLiveEvent\");","map":{"version":3,"sources":["/Users/admin/Desktop/SourceDevVieON/LiveEvent/src/views/LiveManagementEvent/Popup/PopupEditLiveEvent.js"],"names":["React","useEffect","useState","CButton","CModal","CModalBody","CModalFooter","CModalHeader","CRow","CIcon","SkipAfterInStreamAds","SkipInStreamAds","StatusInStreamAds","VastUrlInStreamAds","TypeInStreamAds","ContentInStreamAds","PlatformInStreamAds","GroupInStreamAds","useDispatch","closePopup","handleLocalStorage","sendToast","LiveEventApi","LocalStorage","PopupEditLiveEvent","props","newData","setNewData","itemAds","index","parsedID","item","dataInStreamAds","setDataAds","group","type","vast_url","url_1","url_2","url_3","bumper","status","can_skip","skip_after","platform","is_all_platform","content","id","title","dispatch","handleClose","onChangeNameGroup","value","onChangeTimeSkip","onChangeType","onChangeStatus","onChangeSkip","onChangePlatform","name","setVastUrl","vastUrl","setContent","newContent","Object","onEditInStreamAds","idContentProvider","GET","CONTENT_PROVIDER","idAds","editInStreamAdsById","then","res","data","success","newDataGroup","splice","message","backgroundColor","color","dataInStreamAdsType","dataInStreamAdsStatus","dataInStreamAdsSkip","dataInStreamAdsPlatForm","dataInStreamAdsContent","is_all_content"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport {CButton, CModal, CModalBody, CModalFooter, CModalHeader, CRow} from \"@coreui/react\";\nimport CIcon from \"@coreui/icons-react\";\nimport SkipAfterInStreamAds from \"../CreateContentProvider/CreateStreamAds/SkipAfterInStreamAds\";\nimport SkipInStreamAds from \"../CreateContentProvider/CreateStreamAds/SkipInStreamAds\";\nimport StatusInStreamAds from \"../CreateContentProvider/CreateStreamAds/StatusInStreamAds\";\nimport VastUrlInStreamAds from \"../CreateContentProvider/CreateStreamAds/VastUrlInStreamAds\";\nimport TypeInStreamAds from \"../CreateContentProvider/CreateStreamAds/TypeInStreamAds\";\nimport ContentInStreamAds from \"../CreateContentProvider/CreateStreamAds/ContentInStreamAds\";\nimport PlatformInStreamAds from \"../CreateContentProvider/CreateStreamAds/PlatFormInStreamAds\";\nimport GroupInStreamAds from \"../CreateContentProvider/CreateStreamAds/GroupInStreamAds\";\nimport {useDispatch} from \"react-redux\";\nimport {closePopup} from \"../../../actions/popup\";\nimport {handleLocalStorage, sendToast} from \"../../../helpers/common\";\nimport LiveEventApi from \"../../../apis/liveEventApi\";\nimport LocalStorage from \"../../../config/LocalStorage\";\n\n\n\nconst PopupEditLiveEvent = (props) => {\n  const {\n    newData, setNewData,\n    itemAds,\n    index,\n    parsedID,\n      item,\n  } = props\n  \n  const [dataInStreamAds, setDataAds] = useState({\n    group: 'default',\n    type: 'Pre-roll',\n    vast_url: {url_1: '', url_2: '', url_3: '', bumper: ''},\n    status: 1,\n    can_skip: true,\n    skip_after: 5,\n    platform: '',\n    is_all_platform: true,\n    content: {\n      id:'',\n      title:''\n    }\n  })\n  const dispatch = useDispatch()\n  useEffect(()=>{\n    if (itemAds)\n      setDataAds(itemAds)\n  },[itemAds])\n\n  const handleClose = () => {\n    dispatch(closePopup())\n  }\n  const onChangeNameGroup = (value) => {\n    setDataAds({...dataInStreamAds, group: value})\n  }\n  const onChangeTimeSkip = (value) => {\n    setDataAds({...dataInStreamAds, skip_after: value})\n  }\n  const onChangeType = (item) =>{\n    setDataAds({...dataInStreamAds, type: item })\n  }\n  const onChangeStatus = (item) => {\n    setDataAds({...dataInStreamAds, status: item?.status})\n  }\n  const onChangeSkip = (item) => {\n    setDataAds({...dataInStreamAds, can_skip: item?.can_skip})\n  }\n  const onChangePlatform = (item) => {\n    setDataAds({...dataInStreamAds, platform: item?.name, is_all_platform: item?.is_all_platform})\n  }\n  const setVastUrl = (vastUrl) => {\n    setDataAds({\n      ...dataInStreamAds,\n      vast_url: vastUrl\n    })\n  }\n\n  const setContent = (content) => {\n    const title = content?.name\n    const id = content?.id\n    const newContent = new Object({id, title})\n    setDataAds({...dataInStreamAds, content: newContent})\n  }\n\n  const onEditInStreamAds = () => {\n    let idContentProvider = handleLocalStorage(LocalStorage.GET, LocalStorage.CONTENT_PROVIDER)\n    const idAds = itemAds?.id\n    if (idAds && dataInStreamAds?.content?.id){\n      if (dataInStreamAds?.group){\n        LiveEventApi.editInStreamAdsById(idAds, dataInStreamAds, parsedID?.id || idContentProvider, false).then(res=>{\n          const data = res?.data\n          if (res?.success){\n            const newDataGroup = [...newData]\n            newDataGroup.splice(index, 1, data)\n            setNewData(newDataGroup)\n            dispatch(closePopup())\n          }\n          else {\n            sendToast({message: data?.message})\n          }\n        })\n      }else {\n        sendToast({message: 'Tên nhóm là trường bắt buộc. '})\n      }\n    }\n    if (idAds && !dataInStreamAds?.content?.id){\n      if (dataInStreamAds?.group){\n        LiveEventApi.editInStreamAdsById(idAds, dataInStreamAds, parsedID?.id || idContentProvider, true).then(res=>{\n          const data = res?.data\n          if (res?.success){\n            const newDataGroup = [...newData]\n            newDataGroup.splice(index, 1, data)\n            setNewData(newDataGroup)\n            dispatch(closePopup())\n          }\n          else {\n            sendToast({message: data?.message})\n          }\n        })\n      }else {\n        sendToast({message: 'Tên nhóm là trường bắt buộc. '})\n      }\n    }\n  }\n\n\n  return(\n    <>\n    <CModal\n      closeOnBackdrop={false}\n      show={true} onClose={handleClose} centered={true} size={'xl'}>\n      <CModalHeader style={{ backgroundColor: '#646464' }}>\n        <div className=\"w-100 d-flex justify-content-between align-items-center\" style={{ color: \"#FFF\" }}>\n          <h4 className=\"mb-0\">{'Thông tin sự kiện'}</h4>\n          <CButton className='p-0 shadow-none' onClick={handleClose}>\n            <CIcon name=\"cil-x\" style={{ color: \"#FFF\" }}></CIcon>\n          </CButton>\n        </div>\n      </CModalHeader>\n      <CModalBody>\n          <GroupInStreamAds\n            itemAds={itemAds}\n            onChangeNameGroup={onChangeNameGroup}\n          />\n          <TypeInStreamAds\n            itemAds={dataInStreamAds}\n            dataInStreamAdsType={dataInStreamAdsType}\n            onChangeType={onChangeType}\n          />\n          <VastUrlInStreamAds\n            itemAds={dataInStreamAds}\n            setVastUrl={setVastUrl}\n            dataInStreamAdsType={dataInStreamAdsType}\n          />\n          <StatusInStreamAds\n            itemAds={dataInStreamAds}\n            dataInStreamAdsStatus={dataInStreamAdsStatus}\n            onChangeStatus={onChangeStatus}\n          />\n          <SkipInStreamAds\n            itemAds={dataInStreamAds}\n            dataInStreamAdsSkip={dataInStreamAdsSkip}\n            onChangeSkip={onChangeSkip}\n          />\n          <SkipAfterInStreamAds\n            itemAds={dataInStreamAds}\n            onChangeTimeSkip={onChangeTimeSkip}\n          />\n          <PlatformInStreamAds\n              itemAds={dataInStreamAds}\n            onChangePlatform={onChangePlatform}\n            dataInStreamAdsPlatForm={dataInStreamAdsPlatForm}\n          />\n          <ContentInStreamAds\n            itemAds={dataInStreamAds}\n            dataInStreamAdsContent={dataInStreamAdsContent}\n            setContent={setContent}\n            dataInStreamAdsType={dataInStreamAdsType}\n          />\n\n      </CModalBody>\n      <CModalFooter>\n        <div className=\"d-flex justify-content-end mt-3\">\n          <CButton className=\"pl-4 pr-4\" color=\"success\" onClick={()=>onEditInStreamAds()}>{'Lưu'}</CButton>\n        </div>\n      </CModalFooter>\n    </CModal>\n    </>\n  )\n}\nconst dataInStreamAdsType = [\n  {id:'Pre-roll',name: 'Pre-roll'},\n  {id:'Mid-roll', name: 'Mid-roll'}\n]\nconst dataInStreamAdsStatus = [\n  {id: 'show', name: 'Hiện', status: 1},\n  {id: 'hide', name: 'Ẩn', status: 0},\n]\nconst dataInStreamAdsSkip = [\n  {id: 'yes', name: 'Có', can_skip: true},\n  {id: 'no', name: 'Không', can_skip: false}\n]\nconst dataInStreamAdsPlatForm = [\n  {id: 'all', name: 'Tất cả', is_all_platform: true},\n  {id: 'web', name:'Web', is_all_platform: false},\n  {id: 'iOS', name:'iOS', is_all_platform: false},\n  {id: 'Android', name:'Android', is_all_platform: false},\n  {id: 'AndroidTV', name:'AndroidTV', is_all_platform: false},\n  {id: 'Samsung-TV', name:'Samsung-TV', is_all_platform: false},\n  {id: 'LG-TV', name:'LG-TV', is_all_platform: false},\n]\nconst dataInStreamAdsContent = [\n  {id: 'all', name: 'Tất cả', is_all_content: true},\n  {id: 'filter', name: 'Chọn nội dung ...', is_all_content: false},\n]\nexport default PopupEditLiveEvent\n"]},"metadata":{},"sourceType":"module"}