{"ast":null,"code":"import _objectSpread from\"/Users/admin/Desktop/SourceDevVieON/LiveEvent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/admin/Desktop/SourceDevVieON/LiveEvent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/admin/Desktop/SourceDevVieON/LiveEvent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{CButton,CModal,CModalBody,CModalFooter,CModalHeader,CRow}from\"@coreui/react\";import CIcon from\"@coreui/icons-react\";import SkipAfterInStreamAds from\"../CreateContentProvider/CreateStreamAds/SkipAfterInStreamAds\";import SkipInStreamAds from\"../CreateContentProvider/CreateStreamAds/SkipInStreamAds\";import StatusInStreamAds from\"../CreateContentProvider/CreateStreamAds/StatusInStreamAds\";import VastUrlInStreamAds from\"../CreateContentProvider/CreateStreamAds/VastUrlInStreamAds\";import TypeInStreamAds from\"../CreateContentProvider/CreateStreamAds/TypeInStreamAds\";import ContentInStreamAds from\"../CreateContentProvider/CreateStreamAds/ContentInStreamAds\";import PlatformInStreamAds from\"../CreateContentProvider/CreateStreamAds/PlatFormInStreamAds\";import GroupInStreamAds from\"../CreateContentProvider/CreateStreamAds/GroupInStreamAds\";import inStreamAdsApi from\"../../../apis/inStreamAdsApi\";import{handleLocalStorage,sendToast}from\"../../../helpers/common\";import{useDispatch}from\"react-redux\";import{closePopup}from\"../../../actions/popup\";import LocalStorage from\"../../../config/LocalStorage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PopupCreateNewInStreamAds=function PopupCreateNewInStreamAds(props){var setNewData=props.setNewData,newData=props.newData;var dispatch=useDispatch();var _useState=useState({group:'default',type:'Pre-roll',vast_url:{url_1:'',url_2:'',url_3:'',bumper:''},status:1,can_skip:true,skip_after:5,platform:'',is_all_platform:true,content:{id:'',title:''}}),_useState2=_slicedToArray(_useState,2),dataInStreamAds=_useState2[0],setDataAds=_useState2[1];var onCreateInStreamAds=function onCreateInStreamAds(){var _dataInStreamAds$cont;var idContentProvider=handleLocalStorage(LocalStorage.GET,LocalStorage.CONTENT_PROVIDER);if(dataInStreamAds===null||dataInStreamAds===void 0?void 0:(_dataInStreamAds$cont=dataInStreamAds.content)===null||_dataInStreamAds$cont===void 0?void 0:_dataInStreamAds$cont.id){if(dataInStreamAds===null||dataInStreamAds===void 0?void 0:dataInStreamAds.group){inStreamAdsApi.setInStreamAds(dataInStreamAds,idContentProvider,false).then(function(res){var data=res===null||res===void 0?void 0:res.data;if(res===null||res===void 0?void 0:res.success){var newDataGroup=[].concat(_toConsumableArray(newData),[data]);var sortNewDataGroup=newDataGroup.reverse();setNewData(sortNewDataGroup);dispatch(closePopup());}else{sendToast({message:data===null||data===void 0?void 0:data.message});}});}else{sendToast({message:'Tên nhóm là trường bắt buộc. '});}}else{if(dataInStreamAds===null||dataInStreamAds===void 0?void 0:dataInStreamAds.group){inStreamAdsApi.setInStreamAds(dataInStreamAds,idContentProvider,true).then(function(res){var data=res===null||res===void 0?void 0:res.data;if(res===null||res===void 0?void 0:res.success){var newDataGroup=[].concat(_toConsumableArray(newData),[data]);var sortNewDataGroup=newDataGroup.reverse();setNewData(sortNewDataGroup);dispatch(closePopup());}else{sendToast({message:data===null||data===void 0?void 0:data.message});}});}else{sendToast({message:'Tên nhóm là trường bắt buộc. '});}}};var onChangeNameGroup=function onChangeNameGroup(value){setDataAds(_objectSpread(_objectSpread({},dataInStreamAds),{},{group:value}));};var onChangeTimeSkip=function onChangeTimeSkip(value){setDataAds(_objectSpread(_objectSpread({},dataInStreamAds),{},{skip_after:value}));};var onChangeType=function onChangeType(item){setDataAds(_objectSpread(_objectSpread({},dataInStreamAds),{},{type:item}));};var onChangeStatus=function onChangeStatus(item){setDataAds(_objectSpread(_objectSpread({},dataInStreamAds),{},{status:item===null||item===void 0?void 0:item.status}));};var onChangeSkip=function onChangeSkip(item){setDataAds(_objectSpread(_objectSpread({},dataInStreamAds),{},{can_skip:item===null||item===void 0?void 0:item.can_skip}));};var onChangePlatform=function onChangePlatform(item){setDataAds(_objectSpread(_objectSpread({},dataInStreamAds),{},{platform:item===null||item===void 0?void 0:item.name,is_all_platform:item===null||item===void 0?void 0:item.is_all_platform}));};var setContent=function setContent(content){var title=content===null||content===void 0?void 0:content.name;var id=content===null||content===void 0?void 0:content.id;var newContent=new Object({id:id,title:title});setDataAds(_objectSpread(_objectSpread({},dataInStreamAds),{},{content:newContent}));};var setVastUrl=function setVastUrl(vastUrl){setDataAds(_objectSpread(_objectSpread({},dataInStreamAds),{},{vast_url:vastUrl}));};var handleClose=function handleClose(){dispatch(closePopup());};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(CModal,{closeOnBackdrop:false,show:true,centered:true,size:'xl',children:[/*#__PURE__*/_jsx(CModalHeader,{style:{backgroundColor:'#646464'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 d-flex justify-content-between align-items-center\",style:{color:\"#FFF\"},children:[/*#__PURE__*/_jsx(\"h4\",{className:\"mb-0\",children:\"Th\\xF4ng tin qu\\u1EA3ng c\\xE1o \"}),/*#__PURE__*/_jsx(CButton,{className:\"p-0 shadow-none\",onClick:handleClose,children:/*#__PURE__*/_jsx(CIcon,{name:\"cil-x\",style:{color:\"#FFF\"}})})]})}),/*#__PURE__*/_jsx(CModalBody,{children:/*#__PURE__*/_jsxs(CRow,{className:'justify-content-between',children:[/*#__PURE__*/_jsx(GroupInStreamAds,{itemAds:dataInStreamAds,onChangeNameGroup:onChangeNameGroup}),/*#__PURE__*/_jsx(TypeInStreamAds,{itemAds:dataInStreamAds,dataInStreamAdsType:dataInStreamAdsType,onChangeType:onChangeType}),/*#__PURE__*/_jsx(VastUrlInStreamAds,{itemAds:dataInStreamAds,setVastUrl:setVastUrl,dataInStreamAdsType:dataInStreamAdsType}),/*#__PURE__*/_jsx(StatusInStreamAds,{itemAds:dataInStreamAds,dataInStreamAdsStatus:dataInStreamAdsStatus,onChangeStatus:onChangeStatus}),/*#__PURE__*/_jsx(SkipInStreamAds,{itemAds:dataInStreamAds,dataInStreamAdsSkip:dataInStreamAdsSkip,onChangeSkip:onChangeSkip}),/*#__PURE__*/_jsx(SkipAfterInStreamAds,{itemAds:dataInStreamAds,onChangeTimeSkip:onChangeTimeSkip}),/*#__PURE__*/_jsx(PlatformInStreamAds,{itemAds:dataInStreamAds,onChangePlatform:onChangePlatform,dataInStreamAdsPlatForm:dataInStreamAdsPlatForm}),/*#__PURE__*/_jsx(ContentInStreamAds,{itemAds:dataInStreamAds,dataInStreamAdsContent:dataInStreamAdsContent,setContent:setContent,dataInStreamAdsType:dataInStreamAdsType})]})}),/*#__PURE__*/_jsx(CModalFooter,{children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-end mt-3\",children:/*#__PURE__*/_jsx(CButton,{className:\"pl-4 pr-4\",color:\"success\",onClick:onCreateInStreamAds,children:'Tạo'})})})]})});};var dataInStreamAdsType=[{id:'Pre-roll',name:'Pre-roll'},{id:'Mid-roll',name:'Mid-roll'}];var dataInStreamAdsStatus=[{id:'show',name:'Hiện',status:1},{id:'hide',name:'Ẩn',status:0}];var dataInStreamAdsSkip=[{id:'yes',name:'Có',can_skip:true},{id:'no',name:'Không',can_skip:false}];var dataInStreamAdsPlatForm=[{id:'all',name:'Tất cả',is_all_platform:true},{id:'web',name:'Web',is_all_platform:false},{id:'iOS',name:'iOS',is_all_platform:false},{id:'Android',name:'Android',is_all_platform:false},{id:'AndroidTV',name:'AndroidTV',is_all_platform:false},{id:'Samsung-TV',name:'Samsung-TV',is_all_platform:false},{id:'LG-TV',name:'LG-TV',is_all_platform:false}];var dataInStreamAdsContent=[{id:'all',name:'Tất cả',is_all_content:true},{id:'filter',name:'Chọn nội dung ...',is_all_content:false}];export default PopupCreateNewInStreamAds;","map":{"version":3,"sources":["/Users/admin/Desktop/SourceDevVieON/LiveEvent/src/views/instream-ads/Popup/PopupCreateNewInStreamAds.js"],"names":["React","useState","CButton","CModal","CModalBody","CModalFooter","CModalHeader","CRow","CIcon","SkipAfterInStreamAds","SkipInStreamAds","StatusInStreamAds","VastUrlInStreamAds","TypeInStreamAds","ContentInStreamAds","PlatformInStreamAds","GroupInStreamAds","inStreamAdsApi","handleLocalStorage","sendToast","useDispatch","closePopup","LocalStorage","PopupCreateNewInStreamAds","props","setNewData","newData","dispatch","group","type","vast_url","url_1","url_2","url_3","bumper","status","can_skip","skip_after","platform","is_all_platform","content","id","title","dataInStreamAds","setDataAds","onCreateInStreamAds","idContentProvider","GET","CONTENT_PROVIDER","setInStreamAds","then","res","data","success","newDataGroup","sortNewDataGroup","reverse","message","onChangeNameGroup","value","onChangeTimeSkip","onChangeType","item","onChangeStatus","onChangeSkip","onChangePlatform","name","setContent","newContent","Object","setVastUrl","vastUrl","handleClose","backgroundColor","color","dataInStreamAdsType","dataInStreamAdsStatus","dataInStreamAdsSkip","dataInStreamAdsPlatForm","dataInStreamAdsContent","is_all_content"],"mappings":"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","sourcesContent":["import React, { useState} from 'react'\nimport {CButton, CModal, CModalBody, CModalFooter, CModalHeader, CRow} from \"@coreui/react\";\nimport CIcon from \"@coreui/icons-react\";\nimport SkipAfterInStreamAds from \"../CreateContentProvider/CreateStreamAds/SkipAfterInStreamAds\";\nimport SkipInStreamAds from \"../CreateContentProvider/CreateStreamAds/SkipInStreamAds\";\nimport StatusInStreamAds from \"../CreateContentProvider/CreateStreamAds/StatusInStreamAds\";\nimport VastUrlInStreamAds from \"../CreateContentProvider/CreateStreamAds/VastUrlInStreamAds\";\nimport TypeInStreamAds from \"../CreateContentProvider/CreateStreamAds/TypeInStreamAds\";\nimport ContentInStreamAds from \"../CreateContentProvider/CreateStreamAds/ContentInStreamAds\";\nimport PlatformInStreamAds from \"../CreateContentProvider/CreateStreamAds/PlatFormInStreamAds\";\nimport GroupInStreamAds from \"../CreateContentProvider/CreateStreamAds/GroupInStreamAds\";\nimport inStreamAdsApi from \"../../../apis/inStreamAdsApi\";\nimport {handleLocalStorage, sendToast} from \"../../../helpers/common\";\nimport {useDispatch} from \"react-redux\";\nimport {closePopup} from \"../../../actions/popup\";\nimport LocalStorage from \"../../../config/LocalStorage\";\n\n\nconst PopupCreateNewInStreamAds = (props) => {\n  const {\n    setNewData,\n    newData,\n  } = props\n  const dispatch = useDispatch()\n\n  const [dataInStreamAds, setDataAds] = useState({\n    group: 'default',\n    type: 'Pre-roll',\n    vast_url: {url_1: '', url_2: '', url_3: '', bumper: ''},\n    status: 1,\n    can_skip: true,\n    skip_after: 5,\n    platform: '',\n    is_all_platform: true,\n    content: {\n      id:'',\n      title:''\n    }\n  })\n\n  const onCreateInStreamAds = () => {\n    let idContentProvider = handleLocalStorage(LocalStorage.GET, LocalStorage.CONTENT_PROVIDER)\n    if (dataInStreamAds?.content?.id) {\n      if (dataInStreamAds?.group){\n        inStreamAdsApi.setInStreamAds(dataInStreamAds, idContentProvider, false).then(res=>{\n          const data = res?.data\n          if (res?.success){\n            const newDataGroup = [...newData, data]\n            const sortNewDataGroup = newDataGroup.reverse()\n            setNewData(sortNewDataGroup)\n            dispatch(closePopup())\n          }\n          else {\n            sendToast({message: data?.message})\n          }\n        })\n      }else {\n        sendToast({message: 'Tên nhóm là trường bắt buộc. '})\n      }\n    }else {\n      if (dataInStreamAds?.group){\n        inStreamAdsApi.setInStreamAds(dataInStreamAds, idContentProvider, true).then(res=>{\n          const data = res?.data\n          if (res?.success){\n            const newDataGroup = [...newData, data]\n            const sortNewDataGroup = newDataGroup.reverse()\n            setNewData(sortNewDataGroup)\n            dispatch(closePopup())\n          }\n          else {\n            sendToast({message: data?.message})\n          }\n        })\n      }else {\n        sendToast({message: 'Tên nhóm là trường bắt buộc. '})\n      }\n    }\n  }\n\n  const onChangeNameGroup = (value) => {\n    setDataAds({...dataInStreamAds, group: value})\n  }\n  const onChangeTimeSkip = (value) => {\n    setDataAds({...dataInStreamAds, skip_after: value})\n  }\n  const onChangeType = (item) =>{\n    setDataAds({...dataInStreamAds, type: item })\n  }\n  const onChangeStatus = (item) => {\n    setDataAds({...dataInStreamAds, status: item?.status})\n  }\n  const onChangeSkip = (item) => {\n    setDataAds({...dataInStreamAds, can_skip: item?.can_skip})\n  }\n  const onChangePlatform = (item) => {\n    setDataAds({...dataInStreamAds, platform: item?.name, is_all_platform: item?.is_all_platform})\n  }\n\n\n  const setContent = (content) => {\n    const title = content?.name\n    const id = content?.id\n    const newContent = new Object({id, title})\n    setDataAds({...dataInStreamAds, content: newContent})\n  }\n  const setVastUrl = (vastUrl) => {\n    setDataAds({\n      ...dataInStreamAds,\n      vast_url: vastUrl\n    })\n  }\n  const handleClose = () => {\n    dispatch(closePopup())\n  }\n\n\n\n  return(\n      <>\n        <CModal\n            closeOnBackdrop={false}\n            show={true}  centered={true} size={'xl'}>\n          <CModalHeader style={{ backgroundColor: '#646464' }}>\n            <div className=\"w-100 d-flex justify-content-between align-items-center\" style={{ color: \"#FFF\" }}>\n              <h4 className=\"mb-0\">Thông tin quảng cáo </h4>\n              <CButton className='p-0 shadow-none' onClick={handleClose}>\n                <CIcon name=\"cil-x\" style={{ color: \"#FFF\" }}></CIcon>\n              </CButton>\n            </div>\n          </CModalHeader>\n          <CModalBody>\n            <CRow className={'justify-content-between'} >\n              <GroupInStreamAds\n                  itemAds={dataInStreamAds}\n                  onChangeNameGroup={onChangeNameGroup}\n              />\n              <TypeInStreamAds\n                  itemAds={dataInStreamAds}\n                  dataInStreamAdsType={dataInStreamAdsType}\n                  onChangeType={onChangeType}\n              />\n              <VastUrlInStreamAds\n                  itemAds={dataInStreamAds}\n                  setVastUrl={setVastUrl}\n                  dataInStreamAdsType={dataInStreamAdsType}\n              />\n              <StatusInStreamAds\n                  itemAds={dataInStreamAds}\n                  dataInStreamAdsStatus={dataInStreamAdsStatus}\n                  onChangeStatus={onChangeStatus}\n              />\n              <SkipInStreamAds\n                  itemAds={dataInStreamAds}\n                  dataInStreamAdsSkip={dataInStreamAdsSkip}\n                  onChangeSkip={onChangeSkip}\n              />\n              <SkipAfterInStreamAds\n                  itemAds={dataInStreamAds}\n                  onChangeTimeSkip={onChangeTimeSkip}\n              />\n              <PlatformInStreamAds\n                  itemAds={dataInStreamAds}\n                  onChangePlatform={onChangePlatform}\n                  dataInStreamAdsPlatForm={dataInStreamAdsPlatForm}\n              />\n              <ContentInStreamAds\n                  itemAds={dataInStreamAds}\n                  dataInStreamAdsContent={dataInStreamAdsContent}\n                  setContent={setContent}\n                  dataInStreamAdsType={dataInStreamAdsType}\n              />\n            </CRow>\n          </CModalBody>\n          <CModalFooter>\n            <div className=\"d-flex justify-content-end mt-3\">\n              <CButton className=\"pl-4 pr-4\" color=\"success\" onClick={onCreateInStreamAds}>{ 'Tạo'}</CButton>\n            </div>\n          </CModalFooter>\n        </CModal>\n      </>\n  )\n}\nconst dataInStreamAdsType = [\n  {id:'Pre-roll',name: 'Pre-roll'},\n  {id:'Mid-roll', name: 'Mid-roll'}\n]\nconst dataInStreamAdsStatus = [\n  {id: 'show', name: 'Hiện', status: 1},\n  {id: 'hide', name: 'Ẩn', status: 0},\n]\nconst dataInStreamAdsSkip = [\n  {id: 'yes', name: 'Có', can_skip: true},\n  {id: 'no', name: 'Không', can_skip: false}\n]\nconst dataInStreamAdsPlatForm = [\n  {id: 'all', name: 'Tất cả', is_all_platform: true},\n  {id: 'web', name:'Web', is_all_platform: false},\n  {id: 'iOS', name:'iOS', is_all_platform: false},\n  {id: 'Android', name:'Android', is_all_platform: false},\n  {id: 'AndroidTV', name:'AndroidTV', is_all_platform: false},\n  {id: 'Samsung-TV', name:'Samsung-TV', is_all_platform: false},\n  {id: 'LG-TV', name:'LG-TV', is_all_platform: false},\n]\nconst dataInStreamAdsContent = [\n  {id: 'all', name: 'Tất cả', is_all_content: true},\n  {id: 'filter', name: 'Chọn nội dung ...', is_all_content: false},\n]\nexport default PopupCreateNewInStreamAds\n"]},"metadata":{},"sourceType":"module"}