{"ast":null,"code":"import React,{useEffect}from'react';import{TheContent,TheSidebar,TheHeader}from'./index';import{useDispatch,useSelector}from'react-redux';import{getUser}from\"../actions/user\";import{setToken}from\"../actions/app\";import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import Popup from\"../views/instream-ads/Popup/Popup\";import{useLocation}from\"react-router\";import{useHistory}from\"react-router-dom\";import Cookie from\"react-cookies\";import ConfigCookie from\"../config/ConfigCookie\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TheLayout=function TheLayout(){var dispatch=useDispatch();var dataProfile=useSelector(function(state){return state===null||state===void 0?void 0:state.User;});var location=useLocation();var history=useHistory();var currentPath=location.pathname;var search=location.search;var checkUserLogin=Cookie.load(ConfigCookie.getTokenKey());useEffect(function(){var checkLogin=function checkLogin(){if(checkUserLogin){dispatch(setToken());dispatch(getUser());history.push(currentPath!=='/'?currentPath+search:'/instream-ads/content-provider-list');}else{history.push('/login?rel='+(currentPath+search));}};checkLogin();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[checkUserLogin]);return/*#__PURE__*/_jsxs(\"div\",{className:\"c-app c-default-layout\",children:[/*#__PURE__*/_jsx(TheHeader,{profile:dataProfile===null||dataProfile===void 0?void 0:dataProfile.PROFILE}),/*#__PURE__*/_jsx(TheSidebar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"c-wrapper\",style:{marginTop:'3rem'},children:/*#__PURE__*/_jsx(\"div\",{className:\"c-body\",children:/*#__PURE__*/_jsx(TheContent,{})})}),/*#__PURE__*/_jsx(Popup,{}),/*#__PURE__*/_jsx(ToastContainer,{position:toast.POSITION.TOP_RIGHT,autoClose:3000,hideProgressBar:true,newestOnTop:false,closeOnClick:true,rtl:false,pauseOnFocusLoss:true,draggable:true,pauseOnHover:true})]});};export default TheLayout;","map":{"version":3,"sources":["/Users/admin/Desktop/SourceDevVieON/LiveEvent/src/containers/TheLayout.js"],"names":["React","useEffect","TheContent","TheSidebar","TheHeader","useDispatch","useSelector","getUser","setToken","ToastContainer","toast","Popup","useLocation","useHistory","Cookie","ConfigCookie","TheLayout","dispatch","dataProfile","state","User","location","history","currentPath","pathname","search","checkUserLogin","load","getTokenKey","checkLogin","push","PROFILE","marginTop","POSITION","TOP_RIGHT"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,OACEC,UADF,CAEEC,UAFF,CAGEC,SAHF,KAIO,SAJP,CAMA,OAASC,WAAT,CAAsBC,WAAtB,KAAwC,aAAxC,CACA,OAAQC,OAAR,KAAsB,iBAAtB,CACA,OAAQC,QAAR,KAAuB,gBAAvB,CACA,OAASC,cAAT,CAAyBC,KAAzB,KAAsC,gBAAtC,CACA,MAAO,uCAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,mCAAlB,CACA,OAAQC,WAAR,KAA0B,cAA1B,CACA,OAAQC,UAAR,KAAyB,kBAAzB,CACA,MAAOC,CAAAA,MAAP,KAAmB,eAAnB,CACA,MAAOC,CAAAA,YAAP,KAAyB,wBAAzB,C,wFAGA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CAEpB,GAAMC,CAAAA,QAAQ,CAAGZ,WAAW,EAA5B,CACA,GAAMa,CAAAA,WAAW,CAAGZ,WAAW,CAAC,SAAAa,KAAK,QAAIA,CAAAA,KAAJ,SAAIA,KAAJ,iBAAIA,KAAK,CAAEC,IAAX,EAAN,CAA/B,CACA,GAAMC,CAAAA,QAAQ,CAAGT,WAAW,EAA5B,CACA,GAAMU,CAAAA,OAAO,CAAGT,UAAU,EAA1B,CACA,GAAMU,CAAAA,WAAW,CAAGF,QAAQ,CAACG,QAA7B,CACA,GAAMC,CAAAA,MAAM,CAAGJ,QAAQ,CAACI,MAAxB,CAGA,GAAIC,CAAAA,cAAc,CAAGZ,MAAM,CAACa,IAAP,CAAYZ,YAAY,CAACa,WAAb,EAAZ,CAArB,CACA3B,SAAS,CAAC,UAAI,CACV,GAAM4B,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrB,GAAIH,cAAJ,CAAmB,CACfT,QAAQ,CAACT,QAAQ,EAAT,CAAR,CACAS,QAAQ,CAACV,OAAO,EAAR,CAAR,CACAe,OAAO,CAACQ,IAAR,CACIP,WAAW,GAAK,GAAhB,CACOA,WAAW,CAAGE,MADrB,CAEM,qCAHV,EAKH,CARD,IAQM,CACFH,OAAO,CAACQ,IAAR,CAAa,eAAiBP,WAAW,CAAGE,MAA/B,CAAb,EACH,CACJ,CAZD,CAaAI,UAAU,GACV;AACH,CAhBQ,CAgBP,CAACH,cAAD,CAhBO,CAAT,CAkBA,mBACE,aAAK,SAAS,CAAC,wBAAf,wBACE,KAAC,SAAD,EAAW,OAAO,CAAER,WAAF,SAAEA,WAAF,iBAAEA,WAAW,CAAEa,OAAjC,EADF,cAEE,KAAC,UAAD,IAFF,cAGE,YAAK,SAAS,CAAC,WAAf,CAA2B,KAAK,CAAE,CAACC,SAAS,CAAE,MAAZ,CAAlC,uBACE,YAAK,SAAS,CAAC,QAAf,uBACE,KAAC,UAAD,IADF,EADF,EAHF,cAQE,KAAC,KAAD,IARF,cASE,KAAC,cAAD,EACE,QAAQ,CAAEtB,KAAK,CAACuB,QAAN,CAAeC,SAD3B,CAEE,SAAS,CAAE,IAFb,CAGE,eAAe,CAAE,IAHnB,CAIE,WAAW,CAAE,KAJf,CAKE,YAAY,KALd,CAME,GAAG,CAAE,KANP,CAOE,gBAAgB,KAPlB,CAQE,SAAS,KARX,CASE,YAAY,KATd,EATF,GADF,CAwBH,CArDD,CAuDA,cAAelB,CAAAA,SAAf","sourcesContent":["import React, {useEffect} from 'react'\nimport {\n  TheContent,\n  TheSidebar,\n  TheHeader\n} from './index'\n\nimport { useDispatch, useSelector} from 'react-redux'\nimport {getUser} from \"../actions/user\";\nimport {setToken} from \"../actions/app\";\nimport { ToastContainer, toast } from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css'\nimport Popup from \"../views/instream-ads/Popup/Popup\";\nimport {useLocation} from \"react-router\";\nimport {useHistory} from \"react-router-dom\";\nimport Cookie from \"react-cookies\";\nimport ConfigCookie from \"../config/ConfigCookie\";\n\n\nconst TheLayout = () => {\n\n    const dispatch = useDispatch()\n    const dataProfile = useSelector(state => state?.User)\n    const location = useLocation();\n    const history = useHistory()\n    const currentPath = location.pathname\n    const search = location.search\n\n\n    let checkUserLogin = Cookie.load(ConfigCookie.getTokenKey())\n    useEffect(()=>{\n        const checkLogin = () => {\n            if (checkUserLogin){\n                dispatch(setToken())\n                dispatch(getUser())\n                history.push(\n                    currentPath !== '/'\n                        ? (currentPath + search)\n                        : '/instream-ads/content-provider-list'\n                )\n            }else {\n                history.push('/login?rel=' + (currentPath + search))\n            }\n        }\n        checkLogin()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    },[checkUserLogin])\n\n    return(\n      <div className=\"c-app c-default-layout\">\n        <TheHeader profile={dataProfile?.PROFILE}/>\n        <TheSidebar/>\n        <div className=\"c-wrapper\" style={{marginTop: '3rem'}}>\n          <div className=\"c-body\">\n            <TheContent/>\n          </div>\n        </div>\n        <Popup/>\n        <ToastContainer\n          position={toast.POSITION.TOP_RIGHT}\n          autoClose={3000}\n          hideProgressBar={true}\n          newestOnTop={false}\n          closeOnClick\n          rtl={false}\n          pauseOnFocusLoss\n          draggable\n          pauseOnHover\n\n        />\n      </div>\n    )\n}\n\nexport default TheLayout\n\n"]},"metadata":{},"sourceType":"module"}