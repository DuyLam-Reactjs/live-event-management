{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Desktop/SourceDevVieON/LiveEvent/src/views/instream-ads/Popup/PopupCreateNewAds.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { CButton, CModal, CModalBody, CModalFooter, CModalHeader, CRow } from \"@coreui/react\";\nimport CIcon from \"@coreui/icons-react\";\nimport SkipAfterInStreamAds from \"../CreateContentProvider/CreateStreamAds/SkipAfterInStreamAds\";\nimport SkipInStreamAds from \"../CreateContentProvider/CreateStreamAds/SkipInStreamAds\";\nimport StatusInStreamAds from \"../CreateContentProvider/CreateStreamAds/StatusInStreamAds\";\nimport VastUrlInStreamAds from \"../CreateContentProvider/CreateStreamAds/VastUrlInStreamAds\";\nimport TypeInStreamAds from \"../CreateContentProvider/CreateStreamAds/TypeInStreamAds\";\nimport ContentInStreamAds from \"../CreateContentProvider/CreateStreamAds/ContentInStreamAds\";\nimport PlatformInStreamAds from \"../CreateContentProvider/CreateStreamAds/PlatFormInStreamAds\";\nimport GroupInStreamAds from \"../CreateContentProvider/CreateStreamAds/GroupInStreamAds\";\nimport inStreamAdsApi from \"../../../apis/inStreamAdsApi\";\nimport { sendToast } from \"../../../helpers/common\";\nimport { useLocation } from \"react-router\";\nimport { useDispatch } from \"react-redux\";\nimport { closePopup } from \"../../../actions/popup\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst queryString = require('query-string');\n\nconst PopupCreateNewAds = props => {\n  _s();\n\n  const {\n    setNewData,\n    newData\n  } = props;\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const parsedID = queryString.parse(location.search);\n  const [dataInStreamAds, setDataAds] = useState({\n    group: 'default',\n    type: 'Pre-roll',\n    vast_url: {\n      url_1: '',\n      url_2: '',\n      url_3: '',\n      bumper: ''\n    },\n    status: 1,\n    can_skip: true,\n    skip_after: 5,\n    platform: '',\n    is_all_platform: true,\n    content: {\n      id: '',\n      title: ''\n    }\n  });\n\n  const onChangeNameGroup = value => {\n    setDataAds({ ...dataInStreamAds,\n      group: value\n    });\n  };\n\n  const onChangeTimeSkip = value => {\n    setDataAds({ ...dataInStreamAds,\n      skip_after: value\n    });\n  };\n\n  const onChangeType = item => {\n    setDataAds({ ...dataInStreamAds,\n      type: item\n    });\n  };\n\n  const onChangeStatus = item => {\n    setDataAds({ ...dataInStreamAds,\n      status: item === null || item === void 0 ? void 0 : item.status\n    });\n  };\n\n  const onChangeSkip = item => {\n    setDataAds({ ...dataInStreamAds,\n      can_skip: item === null || item === void 0 ? void 0 : item.can_skip\n    });\n  };\n\n  const onChangePlatform = item => {\n    setDataAds({ ...dataInStreamAds,\n      platform: item === null || item === void 0 ? void 0 : item.name,\n      is_all_platform: item === null || item === void 0 ? void 0 : item.is_all_platform\n    });\n  };\n\n  const setContent = content => {\n    const title = content === null || content === void 0 ? void 0 : content.name;\n    const id = content === null || content === void 0 ? void 0 : content.id;\n    const newContent = new Object({\n      id,\n      title\n    });\n    setDataAds({ ...dataInStreamAds,\n      content: newContent\n    });\n  };\n\n  const setVastUrl = vastUrl => {\n    setDataAds({ ...dataInStreamAds,\n      vast_url: vastUrl\n    });\n  };\n\n  const handleClose = () => {\n    dispatch(closePopup());\n  };\n\n  const onCreateAds = () => {\n    var _dataInStreamAds$cont;\n\n    if (dataInStreamAds === null || dataInStreamAds === void 0 ? void 0 : (_dataInStreamAds$cont = dataInStreamAds.content) === null || _dataInStreamAds$cont === void 0 ? void 0 : _dataInStreamAds$cont.id) {\n      if (dataInStreamAds === null || dataInStreamAds === void 0 ? void 0 : dataInStreamAds.group) {\n        inStreamAdsApi.setInStreamAds(dataInStreamAds, parsedID.id, false).then(res => {\n          const data = res === null || res === void 0 ? void 0 : res.data;\n\n          if (res === null || res === void 0 ? void 0 : res.success) {\n            const newDataGroup = [...newData, data];\n            const sortNewDataGroup = newDataGroup.reverse();\n            setNewData(sortNewDataGroup);\n            dispatch(closePopup());\n          } else {\n            sendToast({\n              message: data === null || data === void 0 ? void 0 : data.message\n            });\n          }\n        });\n      } else {\n        sendToast({\n          message: 'Tên nhóm là trường bắt buộc. '\n        });\n      }\n    } else {\n      if (dataInStreamAds === null || dataInStreamAds === void 0 ? void 0 : dataInStreamAds.group) {\n        inStreamAdsApi.setInStreamAds(dataInStreamAds, parsedID.id, true).then(res => {\n          const data = res === null || res === void 0 ? void 0 : res.data;\n\n          if (res === null || res === void 0 ? void 0 : res.success) {\n            const newDataGroup = [...newData, data];\n            const sortNewDataGroup = newDataGroup.reverse();\n            setNewData(sortNewDataGroup);\n            dispatch(closePopup());\n          } else {\n            sendToast({\n              message: data === null || data === void 0 ? void 0 : data.message\n            });\n          }\n        });\n      } else {\n        sendToast({\n          message: 'Tên nhóm là trường bắt buộc. '\n        });\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(CModal, {\n      closeOnBackdrop: false,\n      show: true,\n      centered: true,\n      size: 'xl',\n      children: [/*#__PURE__*/_jsxDEV(CModalHeader, {\n        style: {\n          backgroundColor: '#646464'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-100 d-flex justify-content-between align-items-center\",\n          style: {\n            color: \"#FFF\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"mb-0\",\n            children: \"Th\\xF4ng tin qu\\u1EA3ng c\\xE1o \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(CButton, {\n            className: \"p-0 shadow-none\",\n            onClick: handleClose,\n            children: /*#__PURE__*/_jsxDEV(CIcon, {\n              name: \"cil-x\",\n              style: {\n                color: \"#FFF\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CModalBody, {\n        children: /*#__PURE__*/_jsxDEV(CRow, {\n          className: 'justify-content-between',\n          children: [/*#__PURE__*/_jsxDEV(GroupInStreamAds, {\n            itemAds: dataInStreamAds,\n            onChangeNameGroup: onChangeNameGroup\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TypeInStreamAds, {\n            itemAds: dataInStreamAds,\n            dataInStreamAdsType: dataInStreamAdsType,\n            onChangeType: onChangeType\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(VastUrlInStreamAds, {\n            itemAds: dataInStreamAds,\n            setVastUrl: setVastUrl,\n            dataInStreamAdsType: dataInStreamAdsType\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(StatusInStreamAds, {\n            itemAds: dataInStreamAds,\n            dataInStreamAdsStatus: dataInStreamAdsStatus,\n            onChangeStatus: onChangeStatus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(SkipInStreamAds, {\n            itemAds: dataInStreamAds,\n            dataInStreamAdsSkip: dataInStreamAdsSkip,\n            onChangeSkip: onChangeSkip\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(SkipAfterInStreamAds, {\n            itemAds: dataInStreamAds,\n            onChangeTimeSkip: onChangeTimeSkip\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(PlatformInStreamAds, {\n            itemAds: dataInStreamAds,\n            onChangePlatform: onChangePlatform,\n            dataInStreamAdsPlatForm: dataInStreamAdsPlatForm\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(ContentInStreamAds, {\n            itemAds: dataInStreamAds,\n            dataInStreamAdsContent: dataInStreamAdsContent,\n            setContent: setContent,\n            dataInStreamAdsType: dataInStreamAdsType\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CModalFooter, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-end mt-3\",\n          children: /*#__PURE__*/_jsxDEV(CButton, {\n            className: \"pl-4 pr-4\",\n            color: \"success\",\n            onClick: onCreateAds,\n            children: 'Tạo'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(PopupCreateNewAds, \"0OM0BGCqUsG5YofUjiQerBIYOn0=\", false, function () {\n  return [useDispatch, useLocation];\n});\n\n_c = PopupCreateNewAds;\nconst dataInStreamAdsType = [{\n  id: 'Pre-roll',\n  name: 'Pre-roll'\n}, {\n  id: 'Mid-roll',\n  name: 'Mid-roll'\n}];\nconst dataInStreamAdsStatus = [{\n  id: 'show',\n  name: 'Hiện',\n  status: 1\n}, {\n  id: 'hide',\n  name: 'Ẩn',\n  status: 0\n}];\nconst dataInStreamAdsSkip = [{\n  id: 'yes',\n  name: 'Có',\n  can_skip: true\n}, {\n  id: 'no',\n  name: 'Không',\n  can_skip: false\n}];\nconst dataInStreamAdsPlatForm = [{\n  id: 'all',\n  name: 'Tất cả',\n  is_all_platform: true\n}, {\n  id: 'web',\n  name: 'Web',\n  is_all_platform: false\n}, {\n  id: 'iOS',\n  name: 'iOS',\n  is_all_platform: false\n}, {\n  id: 'Android',\n  name: 'Android',\n  is_all_platform: false\n}, {\n  id: 'AndroidTV',\n  name: 'AndroidTV',\n  is_all_platform: false\n}, {\n  id: 'Samsung-TV',\n  name: 'Samsung-TV',\n  is_all_platform: false\n}, {\n  id: 'LG-TV',\n  name: 'LG-TV',\n  is_all_platform: false\n}];\nconst dataInStreamAdsContent = [{\n  id: 'all',\n  name: 'Tất cả',\n  is_all_content: true\n}, {\n  id: 'filter',\n  name: 'Chọn nội dung ...',\n  is_all_content: false\n}];\nexport default PopupCreateNewAds;\n\nvar _c;\n\n$RefreshReg$(_c, \"PopupCreateNewAds\");","map":{"version":3,"sources":["/Users/admin/Desktop/SourceDevVieON/LiveEvent/src/views/instream-ads/Popup/PopupCreateNewAds.js"],"names":["React","useState","CButton","CModal","CModalBody","CModalFooter","CModalHeader","CRow","CIcon","SkipAfterInStreamAds","SkipInStreamAds","StatusInStreamAds","VastUrlInStreamAds","TypeInStreamAds","ContentInStreamAds","PlatformInStreamAds","GroupInStreamAds","inStreamAdsApi","sendToast","useLocation","useDispatch","closePopup","queryString","require","PopupCreateNewAds","props","setNewData","newData","dispatch","location","parsedID","parse","search","dataInStreamAds","setDataAds","group","type","vast_url","url_1","url_2","url_3","bumper","status","can_skip","skip_after","platform","is_all_platform","content","id","title","onChangeNameGroup","value","onChangeTimeSkip","onChangeType","item","onChangeStatus","onChangeSkip","onChangePlatform","name","setContent","newContent","Object","setVastUrl","vastUrl","handleClose","onCreateAds","setInStreamAds","then","res","data","success","newDataGroup","sortNewDataGroup","reverse","message","backgroundColor","color","dataInStreamAdsType","dataInStreamAdsStatus","dataInStreamAdsSkip","dataInStreamAdsPlatForm","dataInStreamAdsContent","is_all_content"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAA+B,OAA/B;AACA,SAAQC,OAAR,EAAiBC,MAAjB,EAAyBC,UAAzB,EAAqCC,YAArC,EAAmDC,YAAnD,EAAiEC,IAAjE,QAA4E,eAA5E;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,oBAAP,MAAiC,+DAAjC;AACA,OAAOC,eAAP,MAA4B,0DAA5B;AACA,OAAOC,iBAAP,MAA8B,4DAA9B;AACA,OAAOC,kBAAP,MAA+B,6DAA/B;AACA,OAAOC,eAAP,MAA4B,0DAA5B;AACA,OAAOC,kBAAP,MAA+B,6DAA/B;AACA,OAAOC,mBAAP,MAAgC,8DAAhC;AACA,OAAOC,gBAAP,MAA6B,2DAA7B;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,SAAQC,SAAR,QAAwB,yBAAxB;AACA,SAAQC,WAAR,QAA0B,cAA1B;AACA,SAAQC,WAAR,QAA0B,aAA1B;AACA,SAAQC,UAAR,QAAyB,wBAAzB;;;;AAEA,MAAMC,WAAW,GAAGC,OAAO,CAAC,cAAD,CAA3B;;AAEA,MAAMC,iBAAiB,GAAIC,KAAD,IAAW;AAAA;;AACjC,QAAM;AACFC,IAAAA,UADE;AAEFC,IAAAA;AAFE,MAGFF,KAHJ;AAKA,QAAMG,QAAQ,GAAGR,WAAW,EAA5B;AACA,QAAMS,QAAQ,GAAGV,WAAW,EAA5B;AACA,QAAMW,QAAQ,GAAGR,WAAW,CAACS,KAAZ,CAAkBF,QAAQ,CAACG,MAA3B,CAAjB;AAGA,QAAM,CAACC,eAAD,EAAkBC,UAAlB,IAAgCjC,QAAQ,CAAC;AAC3CkC,IAAAA,KAAK,EAAE,SADoC;AAE3CC,IAAAA,IAAI,EAAE,UAFqC;AAG3CC,IAAAA,QAAQ,EAAE;AAACC,MAAAA,KAAK,EAAE,EAAR;AAAYC,MAAAA,KAAK,EAAE,EAAnB;AAAuBC,MAAAA,KAAK,EAAE,EAA9B;AAAkCC,MAAAA,MAAM,EAAE;AAA1C,KAHiC;AAI3CC,IAAAA,MAAM,EAAE,CAJmC;AAK3CC,IAAAA,QAAQ,EAAE,IALiC;AAM3CC,IAAAA,UAAU,EAAE,CAN+B;AAO3CC,IAAAA,QAAQ,EAAE,EAPiC;AAQ3CC,IAAAA,eAAe,EAAE,IAR0B;AAS3CC,IAAAA,OAAO,EAAE;AACLC,MAAAA,EAAE,EAAC,EADE;AAELC,MAAAA,KAAK,EAAC;AAFD;AATkC,GAAD,CAA9C;;AAgBA,QAAMC,iBAAiB,GAAIC,KAAD,IAAW;AACjCjB,IAAAA,UAAU,CAAC,EAAC,GAAGD,eAAJ;AAAqBE,MAAAA,KAAK,EAAEgB;AAA5B,KAAD,CAAV;AACH,GAFD;;AAGA,QAAMC,gBAAgB,GAAID,KAAD,IAAW;AAChCjB,IAAAA,UAAU,CAAC,EAAC,GAAGD,eAAJ;AAAqBW,MAAAA,UAAU,EAAEO;AAAjC,KAAD,CAAV;AACH,GAFD;;AAGA,QAAME,YAAY,GAAIC,IAAD,IAAS;AAC1BpB,IAAAA,UAAU,CAAC,EAAC,GAAGD,eAAJ;AAAqBG,MAAAA,IAAI,EAAEkB;AAA3B,KAAD,CAAV;AACH,GAFD;;AAGA,QAAMC,cAAc,GAAID,IAAD,IAAU;AAC7BpB,IAAAA,UAAU,CAAC,EAAC,GAAGD,eAAJ;AAAqBS,MAAAA,MAAM,EAAEY,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEZ;AAAnC,KAAD,CAAV;AACH,GAFD;;AAGA,QAAMc,YAAY,GAAIF,IAAD,IAAU;AAC3BpB,IAAAA,UAAU,CAAC,EAAC,GAAGD,eAAJ;AAAqBU,MAAAA,QAAQ,EAAEW,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEX;AAArC,KAAD,CAAV;AACH,GAFD;;AAGA,QAAMc,gBAAgB,GAAIH,IAAD,IAAU;AAC/BpB,IAAAA,UAAU,CAAC,EAAC,GAAGD,eAAJ;AAAqBY,MAAAA,QAAQ,EAAES,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEI,IAArC;AAA2CZ,MAAAA,eAAe,EAAEQ,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAER;AAAlE,KAAD,CAAV;AACH,GAFD;;AAKA,QAAMa,UAAU,GAAIZ,OAAD,IAAa;AAC5B,UAAME,KAAK,GAAGF,OAAH,aAAGA,OAAH,uBAAGA,OAAO,CAAEW,IAAvB;AACA,UAAMV,EAAE,GAAGD,OAAH,aAAGA,OAAH,uBAAGA,OAAO,CAAEC,EAApB;AACA,UAAMY,UAAU,GAAG,IAAIC,MAAJ,CAAW;AAACb,MAAAA,EAAD;AAAKC,MAAAA;AAAL,KAAX,CAAnB;AACAf,IAAAA,UAAU,CAAC,EAAC,GAAGD,eAAJ;AAAqBc,MAAAA,OAAO,EAAEa;AAA9B,KAAD,CAAV;AACH,GALD;;AAMA,QAAME,UAAU,GAAIC,OAAD,IAAa;AAC5B7B,IAAAA,UAAU,CAAC,EACP,GAAGD,eADI;AAEPI,MAAAA,QAAQ,EAAE0B;AAFH,KAAD,CAAV;AAIH,GALD;;AAMA,QAAMC,WAAW,GAAG,MAAM;AACtBpC,IAAAA,QAAQ,CAACP,UAAU,EAAX,CAAR;AACH,GAFD;;AAIA,QAAM4C,WAAW,GAAG,MAAM;AAAA;;AACtB,QAAIhC,eAAJ,aAAIA,eAAJ,gDAAIA,eAAe,CAAEc,OAArB,0DAAI,sBAA0BC,EAA9B,EAAkC;AAC9B,UAAIf,eAAJ,aAAIA,eAAJ,uBAAIA,eAAe,CAAEE,KAArB,EAA2B;AACvBlB,QAAAA,cAAc,CAACiD,cAAf,CAA8BjC,eAA9B,EAA+CH,QAAQ,CAACkB,EAAxD,EAA4D,KAA5D,EAAmEmB,IAAnE,CAAwEC,GAAG,IAAE;AACzE,gBAAMC,IAAI,GAAGD,GAAH,aAAGA,GAAH,uBAAGA,GAAG,CAAEC,IAAlB;;AACA,cAAID,GAAJ,aAAIA,GAAJ,uBAAIA,GAAG,CAAEE,OAAT,EAAiB;AACb,kBAAMC,YAAY,GAAG,CAAC,GAAG5C,OAAJ,EAAa0C,IAAb,CAArB;AACA,kBAAMG,gBAAgB,GAAGD,YAAY,CAACE,OAAb,EAAzB;AACA/C,YAAAA,UAAU,CAAC8C,gBAAD,CAAV;AACA5C,YAAAA,QAAQ,CAACP,UAAU,EAAX,CAAR;AACH,WALD,MAMK;AACDH,YAAAA,SAAS,CAAC;AAACwD,cAAAA,OAAO,EAAEL,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEK;AAAhB,aAAD,CAAT;AACH;AACJ,SAXD;AAYH,OAbD,MAcK;AACDxD,QAAAA,SAAS,CAAC;AAACwD,UAAAA,OAAO,EAAE;AAAV,SAAD,CAAT;AACH;AACJ,KAlBD,MAkBM;AACF,UAAIzC,eAAJ,aAAIA,eAAJ,uBAAIA,eAAe,CAAEE,KAArB,EAA2B;AACvBlB,QAAAA,cAAc,CAACiD,cAAf,CAA8BjC,eAA9B,EAA+CH,QAAQ,CAACkB,EAAxD,EAA4D,IAA5D,EAAkEmB,IAAlE,CAAuEC,GAAG,IAAE;AACxE,gBAAMC,IAAI,GAAGD,GAAH,aAAGA,GAAH,uBAAGA,GAAG,CAAEC,IAAlB;;AACA,cAAID,GAAJ,aAAIA,GAAJ,uBAAIA,GAAG,CAAEE,OAAT,EAAiB;AACb,kBAAMC,YAAY,GAAG,CAAC,GAAG5C,OAAJ,EAAa0C,IAAb,CAArB;AACA,kBAAMG,gBAAgB,GAAGD,YAAY,CAACE,OAAb,EAAzB;AACA/C,YAAAA,UAAU,CAAC8C,gBAAD,CAAV;AACA5C,YAAAA,QAAQ,CAACP,UAAU,EAAX,CAAR;AACH,WALD,MAMK;AACDH,YAAAA,SAAS,CAAC;AAACwD,cAAAA,OAAO,EAAEL,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEK;AAAhB,aAAD,CAAT;AACH;AACJ,SAXD;AAYH,OAbD,MAaM;AACFxD,QAAAA,SAAS,CAAC;AAACwD,UAAAA,OAAO,EAAE;AAAV,SAAD,CAAT;AACH;AAEJ;AACJ,GAtCD;;AAyCA,sBACI;AAAA,2BACI,QAAC,MAAD;AACI,MAAA,eAAe,EAAE,KADrB;AAEI,MAAA,IAAI,EAAE,IAFV;AAEiB,MAAA,QAAQ,EAAE,IAF3B;AAEiC,MAAA,IAAI,EAAE,IAFvC;AAAA,8BAGI,QAAC,YAAD;AAAc,QAAA,KAAK,EAAE;AAAEC,UAAAA,eAAe,EAAE;AAAnB,SAArB;AAAA,+BACI;AAAK,UAAA,SAAS,EAAC,yDAAf;AAAyE,UAAA,KAAK,EAAE;AAAEC,YAAAA,KAAK,EAAE;AAAT,WAAhF;AAAA,kCACI;AAAI,YAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,QAAC,OAAD;AAAS,YAAA,SAAS,EAAC,iBAAnB;AAAqC,YAAA,OAAO,EAAEZ,WAA9C;AAAA,mCACI,QAAC,KAAD;AAAO,cAAA,IAAI,EAAC,OAAZ;AAAoB,cAAA,KAAK,EAAE;AAAEY,gBAAAA,KAAK,EAAE;AAAT;AAA3B;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAHJ,eAWI,QAAC,UAAD;AAAA,+BACI,QAAC,IAAD;AAAM,UAAA,SAAS,EAAE,yBAAjB;AAAA,kCACI,QAAC,gBAAD;AACI,YAAA,OAAO,EAAE3C,eADb;AAEI,YAAA,iBAAiB,EAAEiB;AAFvB;AAAA;AAAA;AAAA;AAAA,kBADJ,eAKI,QAAC,eAAD;AACI,YAAA,OAAO,EAAEjB,eADb;AAEI,YAAA,mBAAmB,EAAE4C,mBAFzB;AAGI,YAAA,YAAY,EAAExB;AAHlB;AAAA;AAAA;AAAA;AAAA,kBALJ,eAUI,QAAC,kBAAD;AACI,YAAA,OAAO,EAAEpB,eADb;AAEI,YAAA,UAAU,EAAE6B,UAFhB;AAGI,YAAA,mBAAmB,EAAEe;AAHzB;AAAA;AAAA;AAAA;AAAA,kBAVJ,eAeI,QAAC,iBAAD;AACI,YAAA,OAAO,EAAE5C,eADb;AAEI,YAAA,qBAAqB,EAAE6C,qBAF3B;AAGI,YAAA,cAAc,EAAEvB;AAHpB;AAAA;AAAA;AAAA;AAAA,kBAfJ,eAoBI,QAAC,eAAD;AACI,YAAA,OAAO,EAAEtB,eADb;AAEI,YAAA,mBAAmB,EAAE8C,mBAFzB;AAGI,YAAA,YAAY,EAAEvB;AAHlB;AAAA;AAAA;AAAA;AAAA,kBApBJ,eAyBI,QAAC,oBAAD;AACI,YAAA,OAAO,EAAEvB,eADb;AAEI,YAAA,gBAAgB,EAAEmB;AAFtB;AAAA;AAAA;AAAA;AAAA,kBAzBJ,eA6BI,QAAC,mBAAD;AACI,YAAA,OAAO,EAAEnB,eADb;AAEI,YAAA,gBAAgB,EAAEwB,gBAFtB;AAGI,YAAA,uBAAuB,EAAEuB;AAH7B;AAAA;AAAA;AAAA;AAAA,kBA7BJ,eAkCI,QAAC,kBAAD;AACI,YAAA,OAAO,EAAE/C,eADb;AAEI,YAAA,sBAAsB,EAAEgD,sBAF5B;AAGI,YAAA,UAAU,EAAEtB,UAHhB;AAII,YAAA,mBAAmB,EAAEkB;AAJzB;AAAA;AAAA;AAAA;AAAA,kBAlCJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAXJ,eAsDI,QAAC,YAAD;AAAA,+BACI;AAAK,UAAA,SAAS,EAAC,iCAAf;AAAA,iCACI,QAAC,OAAD;AAAS,YAAA,SAAS,EAAC,WAAnB;AAA+B,YAAA,KAAK,EAAC,SAArC;AAA+C,YAAA,OAAO,EAAEZ,WAAxD;AAAA,sBAAuE;AAAvE;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAtDJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ,mBADJ;AAgEH,CAxKD;;GAAMzC,iB;UAMeJ,W,EACAD,W;;;KAPfK,iB;AAyKN,MAAMqD,mBAAmB,GAAG,CACxB;AAAC7B,EAAAA,EAAE,EAAC,UAAJ;AAAeU,EAAAA,IAAI,EAAE;AAArB,CADwB,EAExB;AAACV,EAAAA,EAAE,EAAC,UAAJ;AAAgBU,EAAAA,IAAI,EAAE;AAAtB,CAFwB,CAA5B;AAIA,MAAMoB,qBAAqB,GAAG,CAC1B;AAAC9B,EAAAA,EAAE,EAAE,MAAL;AAAaU,EAAAA,IAAI,EAAE,MAAnB;AAA2BhB,EAAAA,MAAM,EAAE;AAAnC,CAD0B,EAE1B;AAACM,EAAAA,EAAE,EAAE,MAAL;AAAaU,EAAAA,IAAI,EAAE,IAAnB;AAAyBhB,EAAAA,MAAM,EAAE;AAAjC,CAF0B,CAA9B;AAIA,MAAMqC,mBAAmB,GAAG,CACxB;AAAC/B,EAAAA,EAAE,EAAE,KAAL;AAAYU,EAAAA,IAAI,EAAE,IAAlB;AAAwBf,EAAAA,QAAQ,EAAE;AAAlC,CADwB,EAExB;AAACK,EAAAA,EAAE,EAAE,IAAL;AAAWU,EAAAA,IAAI,EAAE,OAAjB;AAA0Bf,EAAAA,QAAQ,EAAE;AAApC,CAFwB,CAA5B;AAIA,MAAMqC,uBAAuB,GAAG,CAC5B;AAAChC,EAAAA,EAAE,EAAE,KAAL;AAAYU,EAAAA,IAAI,EAAE,QAAlB;AAA4BZ,EAAAA,eAAe,EAAE;AAA7C,CAD4B,EAE5B;AAACE,EAAAA,EAAE,EAAE,KAAL;AAAYU,EAAAA,IAAI,EAAC,KAAjB;AAAwBZ,EAAAA,eAAe,EAAE;AAAzC,CAF4B,EAG5B;AAACE,EAAAA,EAAE,EAAE,KAAL;AAAYU,EAAAA,IAAI,EAAC,KAAjB;AAAwBZ,EAAAA,eAAe,EAAE;AAAzC,CAH4B,EAI5B;AAACE,EAAAA,EAAE,EAAE,SAAL;AAAgBU,EAAAA,IAAI,EAAC,SAArB;AAAgCZ,EAAAA,eAAe,EAAE;AAAjD,CAJ4B,EAK5B;AAACE,EAAAA,EAAE,EAAE,WAAL;AAAkBU,EAAAA,IAAI,EAAC,WAAvB;AAAoCZ,EAAAA,eAAe,EAAE;AAArD,CAL4B,EAM5B;AAACE,EAAAA,EAAE,EAAE,YAAL;AAAmBU,EAAAA,IAAI,EAAC,YAAxB;AAAsCZ,EAAAA,eAAe,EAAE;AAAvD,CAN4B,EAO5B;AAACE,EAAAA,EAAE,EAAE,OAAL;AAAcU,EAAAA,IAAI,EAAC,OAAnB;AAA4BZ,EAAAA,eAAe,EAAE;AAA7C,CAP4B,CAAhC;AASA,MAAMmC,sBAAsB,GAAG,CAC3B;AAACjC,EAAAA,EAAE,EAAE,KAAL;AAAYU,EAAAA,IAAI,EAAE,QAAlB;AAA4BwB,EAAAA,cAAc,EAAE;AAA5C,CAD2B,EAE3B;AAAClC,EAAAA,EAAE,EAAE,QAAL;AAAeU,EAAAA,IAAI,EAAE,mBAArB;AAA0CwB,EAAAA,cAAc,EAAE;AAA1D,CAF2B,CAA/B;AAIA,eAAe1D,iBAAf","sourcesContent":["import React, { useState} from 'react'\nimport {CButton, CModal, CModalBody, CModalFooter, CModalHeader, CRow} from \"@coreui/react\";\nimport CIcon from \"@coreui/icons-react\";\nimport SkipAfterInStreamAds from \"../CreateContentProvider/CreateStreamAds/SkipAfterInStreamAds\";\nimport SkipInStreamAds from \"../CreateContentProvider/CreateStreamAds/SkipInStreamAds\";\nimport StatusInStreamAds from \"../CreateContentProvider/CreateStreamAds/StatusInStreamAds\";\nimport VastUrlInStreamAds from \"../CreateContentProvider/CreateStreamAds/VastUrlInStreamAds\";\nimport TypeInStreamAds from \"../CreateContentProvider/CreateStreamAds/TypeInStreamAds\";\nimport ContentInStreamAds from \"../CreateContentProvider/CreateStreamAds/ContentInStreamAds\";\nimport PlatformInStreamAds from \"../CreateContentProvider/CreateStreamAds/PlatFormInStreamAds\";\nimport GroupInStreamAds from \"../CreateContentProvider/CreateStreamAds/GroupInStreamAds\";\nimport inStreamAdsApi from \"../../../apis/inStreamAdsApi\";\nimport {sendToast} from \"../../../helpers/common\";\nimport {useLocation} from \"react-router\";\nimport {useDispatch} from \"react-redux\";\nimport {closePopup} from \"../../../actions/popup\";\n\nconst queryString = require('query-string');\n\nconst PopupCreateNewAds = (props) => {\n    const {\n        setNewData,\n        newData,\n    } = props\n\n    const dispatch = useDispatch()\n    const location = useLocation()\n    const parsedID = queryString.parse(location.search)\n\n\n    const [dataInStreamAds, setDataAds] = useState({\n        group: 'default',\n        type: 'Pre-roll',\n        vast_url: {url_1: '', url_2: '', url_3: '', bumper: ''},\n        status: 1,\n        can_skip: true,\n        skip_after: 5,\n        platform: '',\n        is_all_platform: true,\n        content: {\n            id:'',\n            title:''\n        }\n    })\n\n\n    const onChangeNameGroup = (value) => {\n        setDataAds({...dataInStreamAds, group: value})\n    }\n    const onChangeTimeSkip = (value) => {\n        setDataAds({...dataInStreamAds, skip_after: value})\n    }\n    const onChangeType = (item) =>{\n        setDataAds({...dataInStreamAds, type: item })\n    }\n    const onChangeStatus = (item) => {\n        setDataAds({...dataInStreamAds, status: item?.status})\n    }\n    const onChangeSkip = (item) => {\n        setDataAds({...dataInStreamAds, can_skip: item?.can_skip})\n    }\n    const onChangePlatform = (item) => {\n        setDataAds({...dataInStreamAds, platform: item?.name, is_all_platform: item?.is_all_platform})\n    }\n\n\n    const setContent = (content) => {\n        const title = content?.name\n        const id = content?.id\n        const newContent = new Object({id, title})\n        setDataAds({...dataInStreamAds, content: newContent})\n    }\n    const setVastUrl = (vastUrl) => {\n        setDataAds({\n            ...dataInStreamAds,\n            vast_url: vastUrl\n        })\n    }\n    const handleClose = () => {\n        dispatch(closePopup())\n    }\n\n    const onCreateAds = () => {\n        if (dataInStreamAds?.content?.id) {\n            if (dataInStreamAds?.group){\n                inStreamAdsApi.setInStreamAds(dataInStreamAds, parsedID.id, false).then(res=>{\n                    const data = res?.data\n                    if (res?.success){\n                        const newDataGroup = [...newData, data]\n                        const sortNewDataGroup = newDataGroup.reverse()\n                        setNewData(sortNewDataGroup)\n                        dispatch(closePopup())\n                    }\n                    else {\n                        sendToast({message: data?.message})\n                    }\n                })\n            }\n            else {\n                sendToast({message: 'Tên nhóm là trường bắt buộc. '})\n            }\n        }else {\n            if (dataInStreamAds?.group){\n                inStreamAdsApi.setInStreamAds(dataInStreamAds, parsedID.id, true).then(res=>{\n                    const data = res?.data\n                    if (res?.success){\n                        const newDataGroup = [...newData, data]\n                        const sortNewDataGroup = newDataGroup.reverse()\n                        setNewData(sortNewDataGroup)\n                        dispatch(closePopup())\n                    }\n                    else {\n                        sendToast({message: data?.message})\n                    }\n                })\n            }else {\n                sendToast({message: 'Tên nhóm là trường bắt buộc. '})\n            }\n\n        }\n    }\n\n\n    return(\n        <>\n            <CModal\n                closeOnBackdrop={false}\n                show={true}  centered={true} size={'xl'}>\n                <CModalHeader style={{ backgroundColor: '#646464' }}>\n                    <div className=\"w-100 d-flex justify-content-between align-items-center\" style={{ color: \"#FFF\" }}>\n                        <h4 className=\"mb-0\">Thông tin quảng cáo </h4>\n                        <CButton className='p-0 shadow-none' onClick={handleClose}>\n                            <CIcon name=\"cil-x\" style={{ color: \"#FFF\" }}></CIcon>\n                        </CButton>\n                    </div>\n                </CModalHeader>\n                <CModalBody>\n                    <CRow className={'justify-content-between'} >\n                        <GroupInStreamAds\n                            itemAds={dataInStreamAds}\n                            onChangeNameGroup={onChangeNameGroup}\n                        />\n                        <TypeInStreamAds\n                            itemAds={dataInStreamAds}\n                            dataInStreamAdsType={dataInStreamAdsType}\n                            onChangeType={onChangeType}\n                        />\n                        <VastUrlInStreamAds\n                            itemAds={dataInStreamAds}\n                            setVastUrl={setVastUrl}\n                            dataInStreamAdsType={dataInStreamAdsType}\n                        />\n                        <StatusInStreamAds\n                            itemAds={dataInStreamAds}\n                            dataInStreamAdsStatus={dataInStreamAdsStatus}\n                            onChangeStatus={onChangeStatus}\n                        />\n                        <SkipInStreamAds\n                            itemAds={dataInStreamAds}\n                            dataInStreamAdsSkip={dataInStreamAdsSkip}\n                            onChangeSkip={onChangeSkip}\n                        />\n                        <SkipAfterInStreamAds\n                            itemAds={dataInStreamAds}\n                            onChangeTimeSkip={onChangeTimeSkip}\n                        />\n                        <PlatformInStreamAds\n                            itemAds={dataInStreamAds}\n                            onChangePlatform={onChangePlatform}\n                            dataInStreamAdsPlatForm={dataInStreamAdsPlatForm}\n                        />\n                        <ContentInStreamAds\n                            itemAds={dataInStreamAds}\n                            dataInStreamAdsContent={dataInStreamAdsContent}\n                            setContent={setContent}\n                            dataInStreamAdsType={dataInStreamAdsType}\n                        />\n                    </CRow>\n                </CModalBody>\n                <CModalFooter>\n                    <div className=\"d-flex justify-content-end mt-3\">\n                        <CButton className=\"pl-4 pr-4\" color=\"success\" onClick={onCreateAds}>{ 'Tạo'}</CButton>\n                    </div>\n                </CModalFooter>\n            </CModal>\n        </>\n    )\n}\nconst dataInStreamAdsType = [\n    {id:'Pre-roll',name: 'Pre-roll'},\n    {id:'Mid-roll', name: 'Mid-roll'}\n]\nconst dataInStreamAdsStatus = [\n    {id: 'show', name: 'Hiện', status: 1},\n    {id: 'hide', name: 'Ẩn', status: 0},\n]\nconst dataInStreamAdsSkip = [\n    {id: 'yes', name: 'Có', can_skip: true},\n    {id: 'no', name: 'Không', can_skip: false}\n]\nconst dataInStreamAdsPlatForm = [\n    {id: 'all', name: 'Tất cả', is_all_platform: true},\n    {id: 'web', name:'Web', is_all_platform: false},\n    {id: 'iOS', name:'iOS', is_all_platform: false},\n    {id: 'Android', name:'Android', is_all_platform: false},\n    {id: 'AndroidTV', name:'AndroidTV', is_all_platform: false},\n    {id: 'Samsung-TV', name:'Samsung-TV', is_all_platform: false},\n    {id: 'LG-TV', name:'LG-TV', is_all_platform: false},\n]\nconst dataInStreamAdsContent = [\n    {id: 'all', name: 'Tất cả', is_all_content: true},\n    {id: 'filter', name: 'Chọn nội dung ...', is_all_content: false},\n]\nexport default PopupCreateNewAds\n"]},"metadata":{},"sourceType":"module"}