{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Desktop/SourceDevVieON/LiveEvent/src/views/base/tables/TablesContentProviderList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { CBadge, CButton, CCard, CCardBody, CCol, CDataTable, CDropdown, CDropdownItem, CDropdownMenu, CDropdownToggle, CImg, CInput, CInputGroup, CLink, CPagination, CRow, CSwitch } from '@coreui/react';\nimport CIcon from \"@coreui/icons-react\";\nimport { useHistory } from 'react-router-dom';\nimport { parsedTimeCreate, parsedPageLimit, handleLocalStorage } from \"../../../helpers/common\";\nimport { freeSet } from \"@coreui/icons\";\nimport contentApi from \"../../../apis/contentApi\";\nimport TitleAds from \"../../instream-ads/TitleAds/TitleAds\";\nimport ConfigImage from \"../../../config/ConfigImage\";\nimport LocalStorage from \"../../../config/LocalStorage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst getBadge = status => {\n  switch (status) {\n    case 'Active':\n      return 'white';\n\n    default:\n      return 'white';\n  }\n};\n\nconst fields = ['Tên Content Provider', 'Trạng Thái', 'Số Nội Dung', 'Ngày Tạo', 'Quản lý'];\n\nconst TablesContentProviderList = () => {\n  _s();\n\n  const history = useHistory();\n  const [currentPage, setCurrentPage] = useState(1);\n  const [rowPerPage, setRowPerPage] = useState(10);\n  const [maxPage, setMaxPage] = useState(1);\n  const [total, setTotal] = useState();\n  const [currentPageList, setCurrentPageList] = useState();\n  const [valueKeyword, setKeyword] = useState('');\n  useEffect(() => {\n    if (!valueKeyword) contentApi === null || contentApi === void 0 ? void 0 : contentApi.getListContentProvider(rowPerPage, currentPage - 1).then(res => {\n      const data = res === null || res === void 0 ? void 0 : res.data;\n      const {\n        items,\n        metadata\n      } = data || {};\n\n      if (res === null || res === void 0 ? void 0 : res.success) {\n        setCurrentPageList(items);\n        setTotal(metadata === null || metadata === void 0 ? void 0 : metadata.total);\n      }\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [rowPerPage, currentPage]);\n  useEffect(() => {\n    if (currentPageList) {\n      let max = parsedPageLimit(total, rowPerPage);\n      setMaxPage(max);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [total, rowPerPage]);\n\n  const handleChange = e => {\n    let value = e.target.value.toLowerCase();\n    setKeyword(value);\n  };\n\n  const onClickSearch = () => {\n    contentApi.getListContentProvider(rowPerPage, currentPage - 1, valueKeyword.trim()).then(res => {\n      if (res.success) {\n        var _data$metadata;\n\n        const data = res === null || res === void 0 ? void 0 : res.data;\n        setCurrentPageList(data === null || data === void 0 ? void 0 : data.items);\n        setTotal(data === null || data === void 0 ? void 0 : (_data$metadata = data.metadata) === null || _data$metadata === void 0 ? void 0 : _data$metadata.total);\n        setCurrentPage(1);\n      }\n    });\n  };\n\n  const onChangePage = item => {\n    setRowPerPage(item === null || item === void 0 ? void 0 : item.value);\n  };\n\n  const handleKeyPress = event => {\n    if (event.key === 'Enter') {\n      onClickSearch();\n    }\n  };\n\n  const onAddContentProvider = () => {\n    history.push('/instream-ads/content-provider-list/create-content-provider');\n  };\n\n  const onEditContentItem = item => {\n    history.push('/instream-ads/content-provider-list/edit-content-provider?id=' + (item === null || item === void 0 ? void 0 : item.id));\n  };\n\n  const handleContent = item => {\n    history.push('/instream-ads/content-list?id=' + (item === null || item === void 0 ? void 0 : item.id));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TitleAds, {\n      title: \"Content Provider List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CRow, {\n      className: 'row mx-0',\n      children: [/*#__PURE__*/_jsxDEV(CCol, {\n        className: \"col-sm-6 form-inline p-0 c-datatable-filter\",\n        children: /*#__PURE__*/_jsxDEV(CInputGroup, {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(CInput, {\n            className: \"input-search\",\n            type: \"text\",\n            placeholder: \"T\\xECm Content Provider\",\n            autoComplete: \"search\",\n            onChange: handleChange,\n            value: valueKeyword,\n            onKeyPress: handleKeyPress\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-square btn-default color-black btn-search\",\n            onClick: onClickSearch,\n            children: /*#__PURE__*/_jsxDEV(CIcon, {\n              content: freeSet.cilSearch,\n              size: 'lg',\n              style: {\n                margin: 0\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CCol, {\n        className: \"col-sm-6 p-0 \",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-inline justify-content-sm-end c-datatable-items-per-page\",\n          children: /*#__PURE__*/_jsxDEV(CLink, {\n            to: \"/instream-ads/content-provider-list/create-content-provider\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-success mb-3\",\n              onClick: onAddContentProvider,\n              children: \"Th\\xEAm Content Provider\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CRow, {\n      className: 'justify-content-between',\n      children: /*#__PURE__*/_jsxDEV(CCol, {\n        children: /*#__PURE__*/_jsxDEV(CCard, {\n          children: /*#__PURE__*/_jsxDEV(CCardBody, {\n            children: /*#__PURE__*/_jsxDEV(CDataTable, {\n              items: currentPageList,\n              fields: fields,\n              itemsPerPage: 10,\n              scopedSlots: {\n                'Tên Content Provider': item => /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"text-name-provider\",\n                  title: item === null || item === void 0 ? void 0 : item.name,\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: item === null || item === void 0 ? void 0 : item.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 143,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 23\n                }, this),\n                'Trạng Thái': item => /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    verticalAlign: \"middle\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(CSwitch, {\n                    className: 'mx-1',\n                    color: 'success',\n                    labelOn: 'ON',\n                    labelOff: 'OFF',\n                    checked: (item === null || item === void 0 ? void 0 : item.status) === 1 ? true : false,\n                    readOnly: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 149,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 23\n                }, this),\n                'Số Nội Dung': item => /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    verticalAlign: \"middle\"\n                  },\n                  children: (item === null || item === void 0 ? void 0 : item.total_content) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(CLink, {\n                      className: \"clink\",\n                      onClick: () => handleContent(item),\n                      children: item === null || item === void 0 ? void 0 : item.total_content\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 158,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 157,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 23\n                }, this),\n                'Ngày Tạo': item => /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    verticalAlign: \"middle\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      marginBottom: \"0px\"\n                    },\n                    children: parsedTimeCreate(item === null || item === void 0 ? void 0 : item.created_at)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 168,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 23\n                }, this),\n                'Quản lý': item => /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(CBadge, {\n                    color: getBadge(item.status),\n                    children: /*#__PURE__*/_jsxDEV(CButton, {\n                      block: true,\n                      color: \"info\",\n                      onClick: () => onEditContentItem(item),\n                      children: [/*#__PURE__*/_jsxDEV(CImg, {\n                        src: ConfigImage.edit,\n                        alt: \"edit\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 176,\n                        columnNumber: 29\n                      }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"ml-1\",\n                        children: \"Ch\\u1EC9nh s\\u1EEDa\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 176,\n                        columnNumber: 71\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 175,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 174,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 23\n                }, this)\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"m-1 d-flex justify-content-between align-items-center\",\n      children: [/*#__PURE__*/_jsxDEV(CDropdown, {\n        className: \"btn-group\",\n        style: {\n          width: '100px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(CDropdownToggle, {\n          color: \"default\",\n          className: \"shadow-none mb-2 row-page color-white\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"mr-2\",\n            style: {\n              color: '#222'\n            },\n            children: rowPerPage + ' dòng'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CDropdownMenu, {\n          children: rowPerPageList && (rowPerPageList || []).map((item, index) => {\n            return /*#__PURE__*/_jsxDEV(CDropdownItem, {\n              onClick: () => onChangePage(item),\n              children: item === null || item === void 0 ? void 0 : item.name\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CPagination, {\n        nextButton: 'Sau',\n        previousButton: 'Trước',\n        activePage: currentPage,\n        pages: maxPage,\n        onActivePageChange: setCurrentPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(TablesContentProviderList, \"QWyoHvfqjkBZYMxdaSsSsAuw8oo=\", false, function () {\n  return [useHistory];\n});\n\n_c = TablesContentProviderList;\nconst rowPerPageList = [{\n  id: 1,\n  name: '5 dòng',\n  value: 5\n}, {\n  id: 2,\n  name: '10 dòng',\n  value: 10\n}, {\n  id: 3,\n  name: '20 dòng',\n  value: 20\n}];\nexport default TablesContentProviderList;\n\nvar _c;\n\n$RefreshReg$(_c, \"TablesContentProviderList\");","map":{"version":3,"sources":["/Users/admin/Desktop/SourceDevVieON/LiveEvent/src/views/base/tables/TablesContentProviderList.js"],"names":["React","useEffect","useState","CBadge","CButton","CCard","CCardBody","CCol","CDataTable","CDropdown","CDropdownItem","CDropdownMenu","CDropdownToggle","CImg","CInput","CInputGroup","CLink","CPagination","CRow","CSwitch","CIcon","useHistory","parsedTimeCreate","parsedPageLimit","handleLocalStorage","freeSet","contentApi","TitleAds","ConfigImage","LocalStorage","getBadge","status","fields","TablesContentProviderList","history","currentPage","setCurrentPage","rowPerPage","setRowPerPage","maxPage","setMaxPage","total","setTotal","currentPageList","setCurrentPageList","valueKeyword","setKeyword","getListContentProvider","then","res","data","items","metadata","success","max","handleChange","e","value","target","toLowerCase","onClickSearch","trim","onChangePage","item","handleKeyPress","event","key","onAddContentProvider","push","onEditContentItem","id","handleContent","cilSearch","margin","name","verticalAlign","total_content","marginBottom","created_at","edit","width","color","rowPerPageList","map","index"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport {\n  CBadge, CButton,\n  CCard,\n  CCardBody,\n  CCol,\n  CDataTable, CDropdown, CDropdownItem, CDropdownMenu, CDropdownToggle, CImg, CInput, CInputGroup,\n  CLink, CPagination,\n  CRow, CSwitch\n} from '@coreui/react'\n\nimport CIcon from \"@coreui/icons-react\";\nimport {useHistory} from 'react-router-dom';\nimport {parsedTimeCreate, parsedPageLimit, handleLocalStorage} from \"../../../helpers/common\";\nimport {freeSet} from \"@coreui/icons\";\nimport contentApi from \"../../../apis/contentApi\";\nimport TitleAds from \"../../instream-ads/TitleAds/TitleAds\";\nimport ConfigImage from \"../../../config/ConfigImage\";\nimport LocalStorage from \"../../../config/LocalStorage\";\n\n\n\nconst getBadge = status => {\n  switch (status) {\n    case 'Active': return 'white'\n\n    default: return 'white'\n  }\n}\nconst fields = ['Tên Content Provider','Trạng Thái', 'Số Nội Dung', 'Ngày Tạo', 'Quản lý']\n\n\nconst TablesContentProviderList = () => {\n  const history = useHistory()\n\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const [rowPerPage, setRowPerPage] = useState(10);\n  const [maxPage, setMaxPage] = useState(1);\n  const [total, setTotal] = useState()\n  const [currentPageList, setCurrentPageList] = useState()\n  const [valueKeyword, setKeyword] = useState('')\n\n  useEffect(()=>{\n    if (!valueKeyword)\n    contentApi?.getListContentProvider(rowPerPage, currentPage -1).then(res=>{\n      const data = res?.data\n      const {items, metadata} = data || {}\n      if (res?.success){\n        setCurrentPageList(items)\n        setTotal(metadata?.total)\n      }\n    })\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  },[rowPerPage, currentPage])\n\n  useEffect(() => {\n    if (currentPageList) {\n      let max = parsedPageLimit(total, rowPerPage)\n      setMaxPage(max)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [total, rowPerPage])\n\n  const handleChange = e => {\n    let value = e.target.value.toLowerCase()\n    setKeyword(value)\n  }\n\n  const onClickSearch = () => {\n      contentApi.getListContentProvider(rowPerPage, currentPage-1, valueKeyword.trim()).then(res=>{\n        if (res.success){\n          const data = res?.data\n          setCurrentPageList(data?.items)\n          setTotal(data?.metadata?.total)\n          setCurrentPage(1)\n        }\n      })\n  }\n\n  const onChangePage = (item) => {\n    setRowPerPage(item?.value)\n  }\n  const handleKeyPress = (event) => {\n    if (event.key === 'Enter') {\n      onClickSearch();\n    }\n  }\n\n\n  const onAddContentProvider = () =>{\n    history.push('/instream-ads/content-provider-list/create-content-provider')\n  }\n  const onEditContentItem = (item) => {\n    history.push('/instream-ads/content-provider-list/edit-content-provider?id=' + item?.id)\n  }\n  const handleContent = (item) => {\n    history.push('/instream-ads/content-list?id=' + item?.id)\n  }\n\n  return (\n    <>\n      <TitleAds title={\"Content Provider List\"}/>\n      <CRow className={'row mx-0'}>\n        <CCol  className=\"col-sm-6 form-inline p-0 c-datatable-filter\">\n          <CInputGroup className=\"mb-3\">\n            <CInput\n                    className=\"input-search\"\n                    type=\"text\" placeholder=\"Tìm Content Provider\" autoComplete=\"search\"\n                    onChange={handleChange}\n                    value={valueKeyword}\n                    onKeyPress={handleKeyPress}\n            />\n            <button className=\"btn btn-square btn-default color-black btn-search\"\n                    onClick={onClickSearch}>\n              <CIcon content={freeSet.cilSearch} size={'lg'}style={{margin: 0}} />\n            </button>\n          </CInputGroup>\n        </CCol>\n        <CCol  className=\"col-sm-6 p-0 \">\n          <div className=\"form-inline justify-content-sm-end c-datatable-items-per-page\">\n\n            <CLink to=\"/instream-ads/content-provider-list/create-content-provider\">\n              <button className=\"btn btn-success mb-3\"  onClick={onAddContentProvider}>\n                Thêm Content Provider\n              </button>\n            </CLink>\n          </div>\n        </CCol>\n      </CRow>\n      <CRow className={'justify-content-between'}>\n        <CCol>\n          <CCard>\n            <CCardBody>\n              <CDataTable\n                items={ currentPageList}\n                fields={fields}\n                itemsPerPage={10}\n                scopedSlots = {{\n                  'Tên Content Provider':\n                    (item)=>(\n                      <td className=\"text-name-provider\" title={item?.name}>\n                        <strong>{item?.name}</strong>\n                      </td>\n                    ),\n                  'Trạng Thái':\n                    (item)=>(\n                      <td style={{verticalAlign: \"middle\"}}>\n                            <CSwitch className={'mx-1'} color={'success'} labelOn={'ON'} labelOff={'OFF'}\n                                     checked={item?.status === 1 ? true : false } readOnly/>\n                      </td>\n                    ),\n                  'Số Nội Dung':\n                    (item)=>(\n                      <td style={{verticalAlign: \"middle\"}}>\n                        {item?.total_content > 0 &&\n                          <div>\n                            <CLink className=\"clink\" onClick={()=>handleContent(item)}>\n                              {item?.total_content}\n                            </CLink>\n                          </div>\n                        }\n                      </td>\n                    ),\n                  'Ngày Tạo':\n                    (item)=>(\n                      <td style={{verticalAlign: \"middle\"}}>\n                        <p style={{marginBottom: \"0px\"}}>{parsedTimeCreate(item?.created_at)}</p>\n                      </td>\n                    ),\n                  'Quản lý':\n                    (item)=>(\n                      <td>\n                        <CBadge color={getBadge(item.status)}>\n                          <CButton block color=\"info\" onClick={()=>onEditContentItem(item)}>\n                            <CImg src={ConfigImage.edit} alt=\"edit\"/> <span className=\"ml-1\">Chỉnh sửa</span>\n                          </CButton>\n                        </CBadge>\n                      </td>\n                    ),\n                }}\n              />\n            </CCardBody>\n          </CCard>\n        </CCol>\n      </CRow>\n      <div className=\"m-1 d-flex justify-content-between align-items-center\">\n        <CDropdown className=\"btn-group\" style={{ width: '100px',  }}>\n          <CDropdownToggle color=\"default\" className='shadow-none mb-2 row-page color-white'>\n            <span className=\"mr-2\" style={{ color: '#222'}}>{rowPerPage + ' dòng'}</span>\n          </CDropdownToggle>\n          <CDropdownMenu>\n            {rowPerPageList && (rowPerPageList || []).map((item, index) => {\n              return (\n                <CDropdownItem key={index} onClick={()=>onChangePage(item)}>{item?.name}</CDropdownItem>\n              )\n            })\n            }\n          </CDropdownMenu>\n        </CDropdown>\n        <CPagination\n          nextButton={'Sau'}\n          previousButton={'Trước'}\n          activePage={currentPage}\n          pages={maxPage}\n          onActivePageChange={setCurrentPage}\n        />\n      </div>\n    </>\n  )\n}\nconst rowPerPageList = [\n  { id: 1, name: '5 dòng', value: 5 },\n  { id: 2, name: '10 dòng', value: 10 },\n  { id: 3, name: '20 dòng', value: 20 },\n]\nexport default TablesContentProviderList\n"]},"metadata":{},"sourceType":"module"}