{"ast":null,"code":"import _toConsumableArray from\"/Users/admin/Desktop/SourceDevVieON/LiveEvent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import React from'react';import{CBadge,CButton,CCard,CCardBody,CCol,CImg,CRow}from\"@coreui/react\";import{parsedTimeCreate}from\"../../../helpers/common\";import CIcon from\"@coreui/icons-react\";import{freeSet}from\"@coreui/icons\";import ConfigImage from\"../../../config/ConfigImage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CustomTableContentList=function CustomTableContentList(props){var _ref=props||{},currentPageList=_ref.currentPageList,fields=_ref.fields,onHandleAdd=_ref.onHandleAdd,onEditContentItem=_ref.onEditContentItem;var handleAddContentProvider=function handleAddContentProvider(content,provider,adsGroup){onHandleAdd&&onHandleAdd(content,provider,adsGroup);};var handleContentItem=function handleContentItem(content,provider,adsGroup){onEditContentItem&&onEditContentItem(content,provider,adsGroup);};var handleContentId=function handleContentId(content){var temp=[];((content===null||content===void 0?void 0:content.contentProviders)||[]).forEach(function(pr){temp=[].concat(_toConsumableArray(temp),_toConsumableArray((pr===null||pr===void 0?void 0:pr.adsGroups)||[]));});return(temp||[]).length;};return/*#__PURE__*/_jsx(CRow,{className:'justify-content-between',children:/*#__PURE__*/_jsx(CCol,{children:/*#__PURE__*/_jsx(CCard,{children:/*#__PURE__*/_jsx(CCardBody,{children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:fields.map(function(item,ind){return/*#__PURE__*/_jsx(\"th\",{children:item===null||item===void 0?void 0:item.key},(item===null||item===void 0?void 0:item.key)+ind||ind);})})}),/*#__PURE__*/_jsx(\"tbody\",{children:(currentPageList||[]).map(function(content,ctIndex){return/*#__PURE__*/_jsx(_Fragment,{children:((content===null||content===void 0?void 0:content.contentProviders)||[]).map(function(provider,prIndex){return/*#__PURE__*/_jsx(_Fragment,{children:((provider===null||provider===void 0?void 0:provider.adsGroups)||[]).map(function(adsGroup,adgIndex){var contentTD=null;var contentType=null;var contentStatus=null;var time=null;var providerTD=null;var add=null;var contentRowSpan=handleContentId(content);var providerRowSpan=((provider===null||provider===void 0?void 0:provider.adsGroups)||[]).length;if(prIndex===0&&adgIndex===0){contentTD=/*#__PURE__*/_jsx(\"td\",{className:\"content\",rowSpan:contentRowSpan,children:content===null||content===void 0?void 0:content.name});contentType=/*#__PURE__*/_jsx(\"td\",{className:\"content\",rowSpan:contentRowSpan,children:content===null||content===void 0?void 0:content.type});contentStatus=/*#__PURE__*/_jsx(\"td\",{className:\"content\",rowSpan:contentRowSpan,children:content===null||content===void 0?void 0:content.status});time=/*#__PURE__*/_jsx(\"td\",{className:\"content\",rowSpan:contentRowSpan,children:parsedTimeCreate(content===null||content===void 0?void 0:content.updated_at)});add=/*#__PURE__*/_jsx(\"td\",{className:\"content \",rowSpan:contentRowSpan,children:/*#__PURE__*/_jsx(CBadge,{children:/*#__PURE__*/_jsxs(CButton,{block:true,color:\"success\",onClick:function onClick(){return handleAddContentProvider(content,provider,adsGroup);},children:[/*#__PURE__*/_jsx(CIcon,{content:freeSet.cilPlus}),/*#__PURE__*/_jsx(\"span\",{className:\"mt-1\",children:\" Add\"})]})})});providerTD=/*#__PURE__*/_jsx(\"td\",{className:\"content\",rowSpan:providerRowSpan,children:provider===null||provider===void 0?void 0:provider.name});}if(prIndex!==0&&adgIndex===0){providerTD=/*#__PURE__*/_jsx(\"td\",{className:\"content\",rowSpan:providerRowSpan,children:provider===null||provider===void 0?void 0:provider.name});}return/*#__PURE__*/_jsxs(\"tr\",{children:[contentTD,contentType,contentStatus,providerTD,/*#__PURE__*/_jsx(\"td\",{className:\"content\",children:adsGroup===null||adsGroup===void 0?void 0:adsGroup.group}),/*#__PURE__*/_jsx(\"td\",{className:\"content\",children:(adsGroup===null||adsGroup===void 0?void 0:adsGroup.status)===1?'Hiện':(adsGroup===null||adsGroup===void 0?void 0:adsGroup.status)===0?'Ẩn':''}),time,/*#__PURE__*/_jsx(\"td\",{className:\"content \",children:(provider===null||provider===void 0?void 0:provider.id)&&/*#__PURE__*/_jsx(CBadge,{children:/*#__PURE__*/_jsxs(CButton,{block:true,color:\"info\",onClick:function onClick(){return handleContentItem(content,provider,adsGroup);},children:[/*#__PURE__*/_jsx(CImg,{src:ConfigImage.edit,alt:\"edit\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-1\",children:\"Edit\"})]})})}),add]});})});})});})})]})})})})});};export default CustomTableContentList;","map":{"version":3,"sources":["/Users/admin/Desktop/SourceDevVieON/LiveEvent/src/views/base/tables/CustomTableContentList.js"],"names":["React","CBadge","CButton","CCard","CCardBody","CCol","CImg","CRow","parsedTimeCreate","CIcon","freeSet","ConfigImage","CustomTableContentList","props","currentPageList","fields","onHandleAdd","onEditContentItem","handleAddContentProvider","content","provider","adsGroup","handleContentItem","handleContentId","temp","contentProviders","forEach","pr","adsGroups","length","map","item","ind","key","ctIndex","prIndex","adgIndex","contentTD","contentType","contentStatus","time","providerTD","add","contentRowSpan","providerRowSpan","name","type","status","updated_at","cilPlus","group","id","edit"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {\n  CBadge,\n  CButton,\n  CCard, CCardBody,\n  CCol, CImg,\n  CRow\n} from \"@coreui/react\";\nimport {parsedTimeCreate} from \"../../../helpers/common\";\nimport CIcon from \"@coreui/icons-react\";\nimport {freeSet} from \"@coreui/icons\";\nimport ConfigImage from \"../../../config/ConfigImage\";\n\n\n\nconst CustomTableContentList = (props) => {\n  const {currentPageList, fields, onHandleAdd, onEditContentItem} = props || {}\n  const  handleAddContentProvider = (content, provider, adsGroup) => {\n    onHandleAdd && onHandleAdd(content, provider, adsGroup)\n  }\n  const handleContentItem = (content, provider, adsGroup) => {\n    onEditContentItem && onEditContentItem(content, provider, adsGroup)\n  }\n\n  const handleContentId = (content) => {\n    let temp = [];\n    (content?.contentProviders||[]).forEach(pr => {\n      temp = [...temp, ...(pr?.adsGroups || [])]\n    })\n    return (temp||[]).length\n  }\n\n  return(\n      <CRow className={'justify-content-between'}>\n        <CCol>\n          <CCard>\n            <CCardBody>\n            <table>\n              <thead>\n                <tr>\n                  {fields.map((item, ind)=>{\n                    return(\n                      <th key={item?.key + ind || ind}>{item?.key}</th>\n                    )\n                  })}\n                </tr>\n              </thead>\n              <tbody>\n                {\n                  (currentPageList||[]).map((content, ctIndex) => {\n                    return (\n                      <>\n                        {\n                          (content?.contentProviders||[]).map((provider, prIndex) => {\n                            return (\n                              <>\n                                {\n                                  (provider?.adsGroups || []).map((adsGroup, adgIndex)=> {\n                                    let contentTD = null\n                                    let contentType = null\n                                    let contentStatus = null\n                                    let time = null\n                                    let providerTD = null\n                                    let add = null\n                                    const contentRowSpan = handleContentId(content)\n                                    const providerRowSpan = (provider?.adsGroups || []).length\n                                    if(prIndex === 0 && adgIndex === 0) {\n                                      contentTD = <td className=\"content\" rowSpan={contentRowSpan}>{content?.name}</td>\n                                      contentType = <td className=\"content\" rowSpan={contentRowSpan}>{content?.type}</td>\n                                      contentStatus = <td className=\"content\" rowSpan={contentRowSpan}>{content?.status}</td>\n                                      time = <td className=\"content\" rowSpan={contentRowSpan}>{parsedTimeCreate(content?.updated_at)}</td>\n                                      add = <td className=\"content \" rowSpan={contentRowSpan}>\n                                                  <CBadge>\n                                                    <CButton block color=\"success\" onClick={()=>handleAddContentProvider(content, provider, adsGroup)}>\n                                                      <CIcon  content={freeSet.cilPlus}/>\n                                                      <span className=\"mt-1\"> Add</span>\n                                                    </CButton>\n                                                  </CBadge>\n                                                </td>\n                                      providerTD = <td  className=\"content\" rowSpan={providerRowSpan}>{provider?.name}</td>\n                                    }\n                                    if(prIndex !== 0 && adgIndex === 0) {\n                                      providerTD = <td className=\"content\" rowSpan={providerRowSpan}>{provider?.name}</td>\n                                    }\n\n                                    return(\n                                      <tr>\n                                        {contentTD}\n                                        {contentType}\n                                        {contentStatus}\n                                        {providerTD}\n                                        <td className=\"content\">{adsGroup?.group}</td>\n                                        <td className=\"content\">{adsGroup?.status === 1 ? 'Hiện' : adsGroup?.status === 0 ? 'Ẩn' : ''}</td>\n                                        {time}\n                                        <td className=\"content \">\n                                          {provider?.id && <CBadge>\n                                            <CButton block color=\"info\" onClick={()=>handleContentItem(content, provider, adsGroup)}>\n                                              {/*<CIcon  name={'cil-pencil'}/>*/}\n                                              <CImg src={ConfigImage.edit} alt=\"edit\" />\n                                              <span className=\"ml-1\">Edit</span>\n                                            </CButton>\n                                          </CBadge>}\n                                        </td>\n                                        {add}\n                                      </tr>\n                                    )\n                                  })\n                                }\n                              </>\n                            )\n                          })\n                        }\n                      </>\n                    )\n                  })\n                }\n              </tbody>\n            </table>\n            </CCardBody>\n\n          </CCard>\n        </CCol>\n      </CRow>\n\n  )\n}\n\n\n\nexport default CustomTableContentList\n"]},"metadata":{},"sourceType":"module"}