{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Desktop/SourceDevVieON/LiveEvent/src/views/instream-ads/CreateContentProvider/CreateContentProviderInfo/CreateContentProviderInfo.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { CBadge, CButton, CCol, CInput, CInputGroup, CLink, CRow, CSwitch } from \"@coreui/react\";\nimport contentApi from \"../../../../apis/contentApi\";\nimport { useHistory, useLocation } from \"react-router\";\nimport { handleLocalStorage, sendToast } from \"../../../../helpers/common\";\nimport LocalStorage from \"../../../../config/LocalStorage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst queryString = require('query-string');\n\nconst CreateContentProviderInfo = props => {\n  _s();\n\n  const {\n    dataItem,\n    setDisable,\n    isCreateProvider\n  } = props;\n  const location = useLocation();\n  const parsedID = queryString.parse(location.search);\n  const {\n    name,\n    status,\n    is_default,\n    description\n  } = dataItem || {};\n  const isStatus = status === 1;\n  const isDefault = is_default === 1;\n  const [valueNameContent, setValueName] = useState(name || '');\n  const [checkStatus, setStatus] = useState(isStatus || true);\n  const [valueCheckStatus, setValueStatus] = useState(status || 1);\n  const [isBack, setIsBack] = useState(false);\n  const [checkAds, setAds] = useState(isDefault || true);\n  const [valueCheckDefault, setValueDefault] = useState(is_default || 1);\n  const [desc, setDesc] = useState('');\n  const history = useHistory();\n  useEffect(() => {\n    if (!isCreateProvider) {\n      setStatus(isStatus);\n      setAds(isDefault);\n      setValueStatus(status);\n      setValueDefault(is_default);\n      setValueName(name);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [isDefault, isStatus, name]);\n\n  const onChangeNameContent = e => {\n    const value = e.target.value;\n    setValueName(value);\n\n    if (value === '' && !dataItem) {\n      setDisable('');\n      setIsBack(false);\n    }\n  };\n\n  const onChangeDescription = e => {\n    const value = e.target.value;\n    setDesc(value);\n  };\n\n  const onCheckedStatus = e => {\n    const value = e.target.checked;\n    setStatus(value);\n    if (value) setValueStatus(1);else setValueStatus(0);\n  };\n\n  const onCheckedAds = e => {\n    const value = e.target.checked;\n    setAds(value);\n    if (value) setValueDefault(1);else setValueDefault(0);\n  };\n\n  const onSave = () => {\n    if (parsedID === null || parsedID === void 0 ? void 0 : parsedID.id) {\n      contentApi.editContentProvider(valueNameContent || name, valueCheckStatus, valueCheckDefault, desc || description, parsedID === null || parsedID === void 0 ? void 0 : parsedID.id).then(res => {\n        if (res.success) {\n          history.push('/instream-ads/content-provider-list');\n          window.location.reload();\n        }\n      });\n    } else if (valueNameContent && !isBack) {\n      const idContentProvider = handleLocalStorage(LocalStorage.GET, LocalStorage.CONTENT_PROVIDER);\n\n      if (idContentProvider) {\n        contentApi.editContentProvider(valueNameContent, valueCheckStatus, valueCheckDefault, desc, idContentProvider).then(res => {\n          if (res === null || res === void 0 ? void 0 : res.success) {\n            setDisable(valueNameContent);\n            setIsBack(true);\n          }\n        });\n      } else {\n        contentApi.createContentProvider(valueNameContent, valueCheckStatus, valueCheckDefault, desc).then(res => {\n          const data = res === null || res === void 0 ? void 0 : res.data;\n          const idContent = data === null || data === void 0 ? void 0 : data.id;\n\n          if (res.success) {\n            handleLocalStorage(LocalStorage.SET, LocalStorage.CONTENT_PROVIDER, idContent);\n            setDisable(valueNameContent);\n            setIsBack(true);\n          }\n        });\n      }\n    }\n\n    if (isBack) {\n      const idContentProvider = handleLocalStorage(LocalStorage.GET, LocalStorage.CONTENT_PROVIDER);\n\n      if (idContentProvider) {\n        contentApi.editContentProvider(valueNameContent || name, valueCheckStatus, valueCheckDefault, desc || description, idContentProvider).then(res => {\n          if (res === null || res === void 0 ? void 0 : res.success) {\n            setDisable(valueNameContent);\n          }\n        });\n      }\n\n      handleLocalStorage(LocalStorage.REMOVE, LocalStorage.CONTENT_PROVIDER);\n      history.push('/instream-ads/content-provider-list');\n      window.location.reload();\n    }\n\n    if (!valueNameContent) {\n      sendToast({\n        message: 'Vui lòng nhập tên Content Provider'\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 mb-4\",\n    style: {\n      backgroundColor: 'white'\n    },\n    children: [/*#__PURE__*/_jsxDEV(CRow, {\n      className: \"justify-content-between pb-4\",\n      children: [/*#__PURE__*/_jsxDEV(CCol, {\n        className: \"col-lg-9\",\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"mb-0 font-weight-bold\",\n          children: \"TH\\xD4NG TIN CONTENT PROVIDER\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CCol, {\n        className: \"col-lg-2\",\n        children: /*#__PURE__*/_jsxDEV(CButton, {\n          block: true,\n          color: \"success\",\n          onClick: onSave,\n          children: 'Lưu'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CCol, {\n        className: \"col-lg-1\",\n        children: /*#__PURE__*/_jsxDEV(CLink, {\n          to: \"/instream-ads/content-provider-list\",\n          children: /*#__PURE__*/_jsxDEV(CButton, {\n            block: true,\n            color: \"danger\",\n            children: \"Hu\\u1EF7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex flex-row justify-content-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pr-3\",\n        children: /*#__PURE__*/_jsxDEV(CInputGroup, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"mr-2 mt-2\",\n            children: \"T\\xEAn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CInput, {\n            type: \"text\",\n            value: valueNameContent || '',\n            placeholder: \"Nh\\u1EADp t\\xEAn Content Provider\",\n            style: {\n              borderTopLeftRadius: '0.25rem',\n              borderBottomLeftRadius: '0.25rem'\n            },\n            onChange: onChangeNameContent\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pr-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \" mt-2\",\n          style: {\n            verticalAlign: 'super'\n          },\n          children: \"Tr\\u1EA1ng th\\xE1i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CBadge, {\n          children: /*#__PURE__*/_jsxDEV(CSwitch, {\n            className: 'mx-1',\n            color: 'success',\n            labelOn: 'ON',\n            labelOff: 'OFF',\n            onChange: onCheckedStatus,\n            checked: !!checkStatus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pr-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \" mt-2\",\n          style: {\n            verticalAlign: 'super'\n          },\n          children: \"M\\u1EB7c \\u0111\\u1ECBnh hi\\u1EC7n ads\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CBadge, {\n          children: /*#__PURE__*/_jsxDEV(CSwitch, {\n            className: 'mx-1',\n            color: 'success',\n            labelOn: 'ON',\n            labelOff: 'OFF',\n            onChange: onCheckedAds,\n            checked: !!checkAds\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pr-3\",\n        children: /*#__PURE__*/_jsxDEV(CInputGroup, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"mr-2 mt-2\",\n            children: \"Th\\xF4ng tin th\\xEAm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CInput, {\n            type: \"text\",\n            value: desc || description || '',\n            style: {\n              borderTopLeftRadius: '0.25rem',\n              borderBottomLeftRadius: '0.25rem'\n            },\n            placeholder: \"Nh\\u1EADp th\\xF4ng tin th\\xEAm\",\n            onChange: onChangeDescription,\n            maxLength: 256\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CreateContentProviderInfo, \"t04QrNLa8HxUy8AMJGTUTqB3GcU=\", false, function () {\n  return [useLocation, useHistory];\n});\n\n_c = CreateContentProviderInfo;\nexport default CreateContentProviderInfo;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateContentProviderInfo\");","map":{"version":3,"sources":["/Users/admin/Desktop/SourceDevVieON/LiveEvent/src/views/instream-ads/CreateContentProvider/CreateContentProviderInfo/CreateContentProviderInfo.js"],"names":["React","useEffect","useState","CBadge","CButton","CCol","CInput","CInputGroup","CLink","CRow","CSwitch","contentApi","useHistory","useLocation","handleLocalStorage","sendToast","LocalStorage","queryString","require","CreateContentProviderInfo","props","dataItem","setDisable","isCreateProvider","location","parsedID","parse","search","name","status","is_default","description","isStatus","isDefault","valueNameContent","setValueName","checkStatus","setStatus","valueCheckStatus","setValueStatus","isBack","setIsBack","checkAds","setAds","valueCheckDefault","setValueDefault","desc","setDesc","history","onChangeNameContent","e","value","target","onChangeDescription","onCheckedStatus","checked","onCheckedAds","onSave","id","editContentProvider","then","res","success","push","window","reload","idContentProvider","GET","CONTENT_PROVIDER","createContentProvider","data","idContent","SET","REMOVE","message","backgroundColor","borderTopLeftRadius","borderBottomLeftRadius","verticalAlign"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport {\n  CBadge,\n  CButton,\n  CCol,\n  CInput,\n  CInputGroup,\n  CLink,\n  CRow,\n  CSwitch,\n} from \"@coreui/react\";\nimport contentApi from \"../../../../apis/contentApi\";\nimport {useHistory, useLocation} from \"react-router\";\nimport {handleLocalStorage, sendToast} from \"../../../../helpers/common\";\nimport LocalStorage from \"../../../../config/LocalStorage\";\n\n\nconst queryString = require('query-string');\n\nconst CreateContentProviderInfo =  (props) => {\n\n  const { dataItem, setDisable, isCreateProvider} = props\n\n  const location = useLocation()\n  const parsedID = queryString.parse(location.search)\n  const { name, status, is_default, description} = dataItem || {}\n\n  const isStatus = status === 1\n  const isDefault = is_default === 1\n\n  const [valueNameContent, setValueName] = useState( name || '')\n  const [checkStatus, setStatus] = useState( isStatus || true)\n\n\n  const [valueCheckStatus, setValueStatus] = useState(status || 1)\n  const [isBack, setIsBack] = useState(false)\n\n  const [checkAds, setAds] = useState( isDefault || true)\n\n  const [valueCheckDefault, setValueDefault] = useState(is_default || 1)\n  const [desc, setDesc] = useState(  '')\n  const history = useHistory()\n\n\n  useEffect(()=>{\n  if (!isCreateProvider){\n    setStatus(isStatus)\n    setAds(isDefault)\n    setValueStatus(status)\n    setValueDefault(is_default)\n    setValueName(name)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  },[isDefault, isStatus ,name])\n\n\n  const onChangeNameContent = (e) => {\n    const value = e.target.value\n    setValueName(value)\n    if (value === '' && !dataItem) {\n      setDisable('')\n      setIsBack(false)\n    }\n  }\n  const onChangeDescription = (e) => {\n    const value = e.target.value\n    setDesc(value)\n  }\n  const onCheckedStatus = (e) =>{\n    const value = e.target.checked\n    setStatus(value)\n    if (value) setValueStatus(1)\n    else setValueStatus(0)\n\n  }\n\n  const onCheckedAds = (e) =>{\n    const value = e.target.checked\n    setAds(value)\n    if (value) setValueDefault(1)\n    else setValueDefault(0)\n  }\n\n  const onSave = () => {\n    if (parsedID?.id) {\n      contentApi.editContentProvider(\n        valueNameContent || name,\n        valueCheckStatus,\n        valueCheckDefault,\n        desc || description,\n        parsedID?.id,\n      ).then(res => {\n        if (res.success){\n          history.push('/instream-ads/content-provider-list')\n          window.location.reload()\n        }\n      })\n    } else\n    if (valueNameContent && !isBack){\n      const idContentProvider = handleLocalStorage(LocalStorage.GET, LocalStorage.CONTENT_PROVIDER)\n      if (idContentProvider){\n        contentApi.editContentProvider(\n          valueNameContent,\n          valueCheckStatus,\n          valueCheckDefault,\n          desc,\n          idContentProvider,\n        ).then(res => {\n          if (res?.success){\n            setDisable(valueNameContent)\n            setIsBack(true)\n          }\n        })\n      }else {\n        contentApi.createContentProvider(valueNameContent , valueCheckStatus, valueCheckDefault, desc).then(res=>{\n          const data = res?.data\n          const idContent = data?.id\n          if (res.success){\n            handleLocalStorage(LocalStorage.SET, LocalStorage.CONTENT_PROVIDER, idContent)\n            setDisable(valueNameContent)\n            setIsBack(true)\n          }\n        })\n      }\n    }\n    if (isBack) {\n      const idContentProvider = handleLocalStorage(LocalStorage.GET, LocalStorage.CONTENT_PROVIDER)\n      if (idContentProvider){\n        contentApi.editContentProvider(\n          valueNameContent || name,\n          valueCheckStatus,\n          valueCheckDefault,\n          desc || description,\n          idContentProvider,\n        ).then(res => {\n          if (res?.success){\n            setDisable(valueNameContent)\n          }\n        })\n      }\n      handleLocalStorage(LocalStorage.REMOVE, LocalStorage.CONTENT_PROVIDER)\n      history.push('/instream-ads/content-provider-list')\n      window.location.reload()\n    }\n    if (!valueNameContent){\n      sendToast({message: 'Vui lòng nhập tên Content Provider'})\n    }\n\n  }\n\n  return(\n    <div className=\"p-4 mb-4\" style={{backgroundColor: 'white'}}>\n      <CRow className=\"justify-content-between pb-4\" >\n        <CCol className=\"col-lg-9\">\n          <h5 className=\"mb-0 font-weight-bold\">THÔNG TIN CONTENT PROVIDER</h5>\n        </CCol>\n        <CCol className=\"col-lg-2\">\n          {/*<CButton block color=\"success\" onClick={onSave}>{!valueNameContent ? 'Tạo' : isBack ? 'Trở về ' : 'Lưu' }</CButton>*/}\n          <CButton block color=\"success\" onClick={onSave}>{ 'Lưu' }</CButton>\n        </CCol>\n        <CCol className=\"col-lg-1\">\n          <CLink to=\"/instream-ads/content-provider-list\">\n            <CButton block color=\"danger\">Huỷ</CButton>\n          </CLink>\n        </CCol>\n      </CRow>\n      <div className=\"d-flex flex-row justify-content-between\">\n        <div className=\"pr-3\">\n          <CInputGroup>\n            <span className='mr-2 mt-2'>Tên</span>\n            <CInput type=\"text\" value={valueNameContent || ''}\n                    placeholder=\"Nhập tên Content Provider\"\n                    style={{borderTopLeftRadius: '0.25rem', borderBottomLeftRadius: '0.25rem'}}\n                    onChange={onChangeNameContent}  />\n          </CInputGroup>\n        </div>\n        <div className=\"pr-3\">\n          <span className=' mt-2' style={{verticalAlign: 'super'}}>Trạng thái</span>\n          <CBadge >\n            <CSwitch className={'mx-1'} color={'success'} labelOn={'ON'} labelOff={'OFF'}\n                     onChange={onCheckedStatus}\n                     checked={!!checkStatus}/>\n          </CBadge>\n        </div>\n        <div className=\"pr-3\">\n          <span className=' mt-2' style={{verticalAlign: 'super'}}>Mặc định hiện ads</span>\n          <CBadge >\n            <CSwitch className={'mx-1'} color={'success'} labelOn={'ON'} labelOff={'OFF'}\n                     onChange={onCheckedAds} checked={!!checkAds }/>\n          </CBadge>\n        </div>\n        <div className=\"pr-3\">\n          <CInputGroup>\n            <span className='mr-2 mt-2'>Thông tin thêm</span>\n            <CInput  type=\"text\" value={(desc || description) || ''}\n                     style={{borderTopLeftRadius: '0.25rem', borderBottomLeftRadius: '0.25rem'}}\n                     placeholder=\"Nhập thông tin thêm\" onChange={onChangeDescription}\n                      maxLength={256}/>\n          </CInputGroup>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default CreateContentProviderInfo\n"]},"metadata":{},"sourceType":"module"}