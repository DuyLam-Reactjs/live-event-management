{"ast":null,"code":"import _toConsumableArray from\"/Users/admin/Desktop/SourceDevVieON/LiveEvent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/admin/Desktop/SourceDevVieON/LiveEvent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/admin/Desktop/SourceDevVieON/LiveEvent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{CButton,CModal,CModalBody,CModalFooter,CModalHeader,CRow}from\"@coreui/react\";import CIcon from\"@coreui/icons-react\";import SkipAfterInStreamAds from\"../CreateContentProvider/CreateStreamAds/SkipAfterInStreamAds\";import SkipInStreamAds from\"../CreateContentProvider/CreateStreamAds/SkipInStreamAds\";import StatusInStreamAds from\"../CreateContentProvider/CreateStreamAds/StatusInStreamAds\";import VastUrlInStreamAds from\"../CreateContentProvider/CreateStreamAds/VastUrlInStreamAds\";import TypeInStreamAds from\"../CreateContentProvider/CreateStreamAds/TypeInStreamAds\";import ContentInStreamAds from\"../CreateContentProvider/CreateStreamAds/ContentInStreamAds\";import PlatformInStreamAds from\"../CreateContentProvider/CreateStreamAds/PlatFormInStreamAds\";import GroupInStreamAds from\"../CreateContentProvider/CreateStreamAds/GroupInStreamAds\";import{useDispatch}from\"react-redux\";import{closePopup}from\"../../../actions/popup\";import inStreamAdsApi from\"../../../apis/inStreamAdsApi\";import{handleLocalStorage,sendToast}from\"../../../helpers/common\";import LocalStorage from\"../../../config/LocalStorage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var PopupDuplicateAds=function PopupDuplicateAds(props){var newData=props.newData,setNewData=props.setNewData,itemAds=props.itemAds,parsedID=props.parsedID;var _useState=useState({group:'default',type:'Pre-roll',vast_url:{url_1:'',url_2:'',url_3:'',bumper:''},status:1,can_skip:true,skip_after:5,platform:'',is_all_platform:true,content:{id:'',title:''}}),_useState2=_slicedToArray(_useState,2),dataInStreamAds=_useState2[0],setDataAds=_useState2[1];var dispatch=useDispatch();useEffect(function(){if(itemAds)setDataAds(itemAds);},[itemAds]);var handleClose=function handleClose(){dispatch(closePopup());};var onChangeNameGroup=function onChangeNameGroup(value){setDataAds(_objectSpread(_objectSpread({},dataInStreamAds),{},{group:value}));};var onChangeTimeSkip=function onChangeTimeSkip(value){setDataAds(_objectSpread(_objectSpread({},dataInStreamAds),{},{skip_after:value}));};var onChangeType=function onChangeType(item){setDataAds(_objectSpread(_objectSpread({},dataInStreamAds),{},{type:item}));};var onChangeStatus=function onChangeStatus(item){setDataAds(_objectSpread(_objectSpread({},dataInStreamAds),{},{status:item===null||item===void 0?void 0:item.status}));};var onChangeSkip=function onChangeSkip(item){setDataAds(_objectSpread(_objectSpread({},dataInStreamAds),{},{can_skip:item===null||item===void 0?void 0:item.can_skip}));};var onChangePlatform=function onChangePlatform(item){setDataAds(_objectSpread(_objectSpread({},dataInStreamAds),{},{platform:item===null||item===void 0?void 0:item.name,is_all_platform:item===null||item===void 0?void 0:item.is_all_platform}));};var setVastUrl=function setVastUrl(vastUrl){setDataAds(_objectSpread(_objectSpread({},dataInStreamAds),{},{vast_url:vastUrl}));};var setContent=function setContent(content){var title=content===null||content===void 0?void 0:content.name;var id=content===null||content===void 0?void 0:content.id;var newContent=new Object({id:id,title:title});setDataAds(_objectSpread(_objectSpread({},dataInStreamAds),{},{content:newContent}));};var onCreateInStreamAds=function onCreateInStreamAds(){var _dataInStreamAds$cont;var idContentProvider=handleLocalStorage(LocalStorage.GET,LocalStorage.CONTENT_PROVIDER);if(dataInStreamAds===null||dataInStreamAds===void 0?void 0:(_dataInStreamAds$cont=dataInStreamAds.content)===null||_dataInStreamAds$cont===void 0?void 0:_dataInStreamAds$cont.id){if(dataInStreamAds===null||dataInStreamAds===void 0?void 0:dataInStreamAds.group){inStreamAdsApi.setInStreamAds(dataInStreamAds,(parsedID===null||parsedID===void 0?void 0:parsedID.id)||idContentProvider,false).then(function(res){var data=res===null||res===void 0?void 0:res.data;if(res===null||res===void 0?void 0:res.success){var newDataGroup=[].concat(_toConsumableArray(newData),[data]);var sortNewDataGroup=newDataGroup.reverse();setNewData(sortNewDataGroup);dispatch(closePopup());}else{sendToast({message:data===null||data===void 0?void 0:data.message});}});}else{sendToast({message:'Tên nhóm là trường bắt buộc. '});}}else{if(dataInStreamAds===null||dataInStreamAds===void 0?void 0:dataInStreamAds.group){inStreamAdsApi.setInStreamAds(dataInStreamAds,(parsedID===null||parsedID===void 0?void 0:parsedID.id)||idContentProvider,true).then(function(res){var data=res===null||res===void 0?void 0:res.data;if(res===null||res===void 0?void 0:res.success){var newDataGroup=[].concat(_toConsumableArray(newData),[data]);var sortNewDataGroup=newDataGroup.reverse();setNewData(sortNewDataGroup);dispatch(closePopup());}else{sendToast({message:data===null||data===void 0?void 0:data.message});}});}else{sendToast({message:'Tên nhóm là trường bắt buộc.'});}}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(CModal,{closeOnBackdrop:false,show:true,onClose:handleClose,centered:true,size:'xl',children:[/*#__PURE__*/_jsx(CModalHeader,{style:{backgroundColor:'#646464'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 d-flex justify-content-between align-items-center\",style:{color:\"#FFF\"},children:[/*#__PURE__*/_jsx(\"h4\",{className:\"mb-0\",children:\"Th\\xF4ng tin qu\\u1EA3ng c\\xE1o \"}),/*#__PURE__*/_jsx(CButton,{className:\"p-0 shadow-none\",onClick:handleClose,children:/*#__PURE__*/_jsx(CIcon,{name:\"cil-x\",style:{color:\"#FFF\"}})})]})}),/*#__PURE__*/_jsx(CModalBody,{children:/*#__PURE__*/_jsxs(CRow,{className:'justify-content-between',children:[/*#__PURE__*/_jsx(GroupInStreamAds,{itemAds:dataInStreamAds,onChangeNameGroup:onChangeNameGroup}),/*#__PURE__*/_jsx(TypeInStreamAds,{itemAds:dataInStreamAds,dataInStreamAdsType:dataInStreamAdsType,onChangeType:onChangeType}),/*#__PURE__*/_jsx(VastUrlInStreamAds,{itemAds:dataInStreamAds,setVastUrl:setVastUrl,dataInStreamAdsType:dataInStreamAdsType}),/*#__PURE__*/_jsx(StatusInStreamAds,{itemAds:dataInStreamAds,dataInStreamAdsStatus:dataInStreamAdsStatus,onChangeStatus:onChangeStatus}),/*#__PURE__*/_jsx(SkipInStreamAds,{itemAds:dataInStreamAds,dataInStreamAdsSkip:dataInStreamAdsSkip,onChangeSkip:onChangeSkip}),/*#__PURE__*/_jsx(SkipAfterInStreamAds,{itemAds:dataInStreamAds,onChangeTimeSkip:onChangeTimeSkip}),/*#__PURE__*/_jsx(PlatformInStreamAds,{itemAds:dataInStreamAds,onChangePlatform:onChangePlatform,dataInStreamAdsPlatForm:dataInStreamAdsPlatForm}),/*#__PURE__*/_jsx(ContentInStreamAds,{itemAds:dataInStreamAds,dataInStreamAdsContent:dataInStreamAdsContent,setContent:setContent,dataInStreamAdsType:dataInStreamAdsType})]})}),/*#__PURE__*/_jsx(CModalFooter,{children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-end mt-3\",children:/*#__PURE__*/_jsx(CButton,{className:\"pl-4 pr-4\",color:\"success\",onClick:onCreateInStreamAds,children:'Tạo'})})})]})});};var dataInStreamAdsType=[{id:'Pre-roll',name:'Pre-roll'},{id:'Mid-roll',name:'Mid-roll'}];var dataInStreamAdsStatus=[{id:'show',name:'Hiện',status:1},{id:'hide',name:'Ẩn',status:0}];var dataInStreamAdsSkip=[{id:'yes',name:'Có',can_skip:true},{id:'no',name:'Không',can_skip:false}];var dataInStreamAdsPlatForm=[{id:'all',name:'Tất cả',is_all_platform:true},{id:'web',name:'Web',is_all_platform:false},{id:'iOS',name:'iOS',is_all_platform:false},{id:'Android',name:'Android',is_all_platform:false},{id:'AndroidTV',name:'AndroidTV',is_all_platform:false},{id:'Samsung-TV',name:'Samsung-TV',is_all_platform:false},{id:'LG-TV',name:'LG-TV',is_all_platform:false}];var dataInStreamAdsContent=[{id:'all',name:'Tất cả',is_all_content:true},{id:'filter',name:'Chọn nội dung ...',is_all_content:false}];export default PopupDuplicateAds;","map":{"version":3,"sources":["/Users/admin/Desktop/SourceDevVieON/LiveEvent/src/views/instream-ads/Popup/PopupDuplicateAds.js"],"names":["React","useEffect","useState","CButton","CModal","CModalBody","CModalFooter","CModalHeader","CRow","CIcon","SkipAfterInStreamAds","SkipInStreamAds","StatusInStreamAds","VastUrlInStreamAds","TypeInStreamAds","ContentInStreamAds","PlatformInStreamAds","GroupInStreamAds","useDispatch","closePopup","inStreamAdsApi","handleLocalStorage","sendToast","LocalStorage","PopupDuplicateAds","props","newData","setNewData","itemAds","parsedID","group","type","vast_url","url_1","url_2","url_3","bumper","status","can_skip","skip_after","platform","is_all_platform","content","id","title","dataInStreamAds","setDataAds","dispatch","handleClose","onChangeNameGroup","value","onChangeTimeSkip","onChangeType","item","onChangeStatus","onChangeSkip","onChangePlatform","name","setVastUrl","vastUrl","setContent","newContent","Object","onCreateInStreamAds","idContentProvider","GET","CONTENT_PROVIDER","setInStreamAds","then","res","data","success","newDataGroup","sortNewDataGroup","reverse","message","backgroundColor","color","dataInStreamAdsType","dataInStreamAdsStatus","dataInStreamAdsSkip","dataInStreamAdsPlatForm","dataInStreamAdsContent","is_all_content"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport {CButton, CModal, CModalBody, CModalFooter, CModalHeader, CRow} from \"@coreui/react\";\nimport CIcon from \"@coreui/icons-react\";\nimport SkipAfterInStreamAds from \"../CreateContentProvider/CreateStreamAds/SkipAfterInStreamAds\";\nimport SkipInStreamAds from \"../CreateContentProvider/CreateStreamAds/SkipInStreamAds\";\nimport StatusInStreamAds from \"../CreateContentProvider/CreateStreamAds/StatusInStreamAds\";\nimport VastUrlInStreamAds from \"../CreateContentProvider/CreateStreamAds/VastUrlInStreamAds\";\nimport TypeInStreamAds from \"../CreateContentProvider/CreateStreamAds/TypeInStreamAds\";\nimport ContentInStreamAds from \"../CreateContentProvider/CreateStreamAds/ContentInStreamAds\";\nimport PlatformInStreamAds from \"../CreateContentProvider/CreateStreamAds/PlatFormInStreamAds\";\nimport GroupInStreamAds from \"../CreateContentProvider/CreateStreamAds/GroupInStreamAds\";\nimport {useDispatch} from \"react-redux\";\nimport {closePopup} from \"../../../actions/popup\";\nimport inStreamAdsApi from \"../../../apis/inStreamAdsApi\";\nimport {handleLocalStorage, sendToast} from \"../../../helpers/common\";\nimport LocalStorage from \"../../../config/LocalStorage\";\n\n\n\nconst PopupDuplicateAds = (props) => {\n  const {\n    newData, setNewData,\n    itemAds,\n    parsedID\n  } = props\n\n  const [dataInStreamAds, setDataAds] = useState({\n    group: 'default',\n    type: 'Pre-roll',\n    vast_url: {url_1: '', url_2: '', url_3: '', bumper: ''},\n    status: 1,\n    can_skip: true,\n    skip_after: 5,\n    platform: '',\n    is_all_platform: true,\n    content: {\n      id:'',\n      title:''\n    }\n  })\n  const dispatch = useDispatch()\n\n  useEffect(()=>{\n    if (itemAds)\n      setDataAds(itemAds)\n  },[itemAds])\n\n  const handleClose = () => {\n    dispatch(closePopup())\n  }\n  const onChangeNameGroup = (value) => {\n    setDataAds({...dataInStreamAds, group: value})\n  }\n  const onChangeTimeSkip = (value) => {\n    setDataAds({...dataInStreamAds, skip_after: value})\n  }\n  const onChangeType = (item) =>{\n    setDataAds({...dataInStreamAds, type: item })\n  }\n  const onChangeStatus = (item) => {\n    setDataAds({...dataInStreamAds, status: item?.status})\n  }\n  const onChangeSkip = (item) => {\n    setDataAds({...dataInStreamAds, can_skip: item?.can_skip})\n  }\n  const onChangePlatform = (item) => {\n    setDataAds({...dataInStreamAds, platform: item?.name, is_all_platform: item?.is_all_platform})\n  }\n  const setVastUrl = (vastUrl) => {\n    setDataAds({\n      ...dataInStreamAds,\n      vast_url: vastUrl\n    })\n  }\n\n  const setContent = (content) => {\n    const title = content?.name\n    const id = content?.id\n    const newContent = new Object({id, title})\n    setDataAds({...dataInStreamAds, content: newContent})\n  }\n\n\n  const onCreateInStreamAds = () => {\n    let idContentProvider = handleLocalStorage(LocalStorage.GET, LocalStorage.CONTENT_PROVIDER)\n    if (dataInStreamAds?.content?.id) {\n      if (dataInStreamAds?.group){\n        inStreamAdsApi.setInStreamAds(dataInStreamAds, parsedID?.id || idContentProvider, false).then(res=>{\n          const data = res?.data\n          if (res?.success){\n            const newDataGroup = [...newData, data]\n            const sortNewDataGroup = newDataGroup.reverse()\n            setNewData(sortNewDataGroup)\n            dispatch(closePopup())\n          }\n          else {\n            sendToast({message: data?.message})\n          }\n        })\n      }\n      else {\n        sendToast({message: 'Tên nhóm là trường bắt buộc. '})\n      }\n    }else {\n      if (dataInStreamAds?.group){\n        inStreamAdsApi.setInStreamAds(dataInStreamAds, parsedID?.id || idContentProvider, true).then(res=>{\n          const data = res?.data\n          if (res?.success){\n            const newDataGroup = [...newData, data]\n            const sortNewDataGroup = newDataGroup.reverse()\n            setNewData(sortNewDataGroup)\n            dispatch(closePopup())\n          }\n          else {\n            sendToast({message: data?.message})\n          }\n        })\n      }else {\n        sendToast({message: 'Tên nhóm là trường bắt buộc.'})\n      }\n\n    }\n  }\n\n  return(\n    <>\n    <CModal\n      closeOnBackdrop={false}\n      show={true} onClose={handleClose} centered={true} size={'xl'}>\n      <CModalHeader style={{ backgroundColor: '#646464' }}>\n        <div className=\"w-100 d-flex justify-content-between align-items-center\" style={{ color: \"#FFF\" }}>\n          <h4 className=\"mb-0\">Thông tin quảng cáo </h4>\n          <CButton className='p-0 shadow-none' onClick={handleClose}>\n            <CIcon name=\"cil-x\" style={{ color: \"#FFF\" }}></CIcon>\n          </CButton>\n        </div>\n      </CModalHeader>\n      <CModalBody>\n        <CRow className={'justify-content-between'} >\n          <GroupInStreamAds\n            itemAds={dataInStreamAds}\n            onChangeNameGroup={onChangeNameGroup}\n          />\n          <TypeInStreamAds\n            itemAds={dataInStreamAds}\n            dataInStreamAdsType={dataInStreamAdsType}\n            onChangeType={onChangeType}\n          />\n          <VastUrlInStreamAds\n            itemAds={dataInStreamAds}\n            setVastUrl={setVastUrl}\n            dataInStreamAdsType={dataInStreamAdsType}\n          />\n          <StatusInStreamAds\n              itemAds={dataInStreamAds}\n            dataInStreamAdsStatus={dataInStreamAdsStatus}\n            onChangeStatus={onChangeStatus}\n          />\n          <SkipInStreamAds\n              itemAds={dataInStreamAds}\n            dataInStreamAdsSkip={dataInStreamAdsSkip}\n            onChangeSkip={onChangeSkip}\n          />\n          <SkipAfterInStreamAds\n              itemAds={dataInStreamAds}\n            onChangeTimeSkip={onChangeTimeSkip}\n          />\n          <PlatformInStreamAds\n              itemAds={dataInStreamAds}\n            onChangePlatform={onChangePlatform}\n            dataInStreamAdsPlatForm={dataInStreamAdsPlatForm}\n          />\n          <ContentInStreamAds\n            itemAds={dataInStreamAds}\n            dataInStreamAdsContent={dataInStreamAdsContent}\n            setContent={setContent}\n            dataInStreamAdsType={dataInStreamAdsType}\n          />\n        </CRow>\n      </CModalBody>\n      <CModalFooter>\n        <div className=\"d-flex justify-content-end mt-3\">\n          <CButton className=\"pl-4 pr-4\" color=\"success\" onClick={onCreateInStreamAds}>{'Tạo'}</CButton>\n        </div>\n      </CModalFooter>\n    </CModal>\n    </>\n  )\n}\nconst dataInStreamAdsType = [\n  {id:'Pre-roll',name: 'Pre-roll'},\n  {id:'Mid-roll', name: 'Mid-roll'}\n]\nconst dataInStreamAdsStatus = [\n  {id: 'show', name: 'Hiện', status: 1},\n  {id: 'hide', name: 'Ẩn', status: 0},\n]\nconst dataInStreamAdsSkip = [\n  {id: 'yes', name: 'Có', can_skip: true},\n  {id: 'no', name: 'Không', can_skip: false}\n]\nconst dataInStreamAdsPlatForm = [\n  {id: 'all', name: 'Tất cả', is_all_platform: true},\n  {id: 'web', name:'Web', is_all_platform: false},\n  {id: 'iOS', name:'iOS', is_all_platform: false},\n  {id: 'Android', name:'Android', is_all_platform: false},\n  {id: 'AndroidTV', name:'AndroidTV', is_all_platform: false},\n  {id: 'Samsung-TV', name:'Samsung-TV', is_all_platform: false},\n  {id: 'LG-TV', name:'LG-TV', is_all_platform: false},\n]\nconst dataInStreamAdsContent = [\n  {id: 'all', name: 'Tất cả', is_all_content: true},\n  {id: 'filter', name: 'Chọn nội dung ...', is_all_content: false},\n]\nexport default PopupDuplicateAds\n"]},"metadata":{},"sourceType":"module"}