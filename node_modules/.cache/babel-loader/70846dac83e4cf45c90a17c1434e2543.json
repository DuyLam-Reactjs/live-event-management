{"ast":null,"code":"import Cookie from'react-cookies';import*as ConfigEnv from'./ConfigEnv';var KEY={ACCESS_TOKEN:'access_token',ACCESS_TOKEN_TEST:'access_token_test',ACCESS_TOKEN_DEV:'access_token_dev',ANONYMOUS_TOKEN:'anonymous_token'};var METHOD={SAVE:'SAVE',LOAD:'LOAD',REMOVE:'REMOVE'};function getTokenKey(){var key=KEY.ACCESS_TOKEN;var domainAPI=ConfigEnv.DOMAIN_API;var isTesting=(domainAPI||'').includes('testing-api');var isDev=(domainAPI||'').includes('dev-api');if(isTesting)key=KEY.ACCESS_TOKEN_TEST;else if(isDev)key=KEY.ACCESS_TOKEN_DEV;return key;}function handleCookie(_ref){var type=_ref.type,key=_ref.key,value=_ref.value,option=_ref.option;//time expire token\nswitch(type){case METHOD.SAVE:{return Cookie.save(key,value,option);}case METHOD.LOAD:{return Cookie.load(key);}case METHOD.REMOVE:{Cookie.remove(key,option);return;}}}function remove(key,removeOption){var timeNow=new Date();timeNow.setFullYear(timeNow.getFullYear()+1);var option={expires:timeNow,path:'/'};var oldOption={expires:timeNow,domain:'.vieon.vn',path:'/'};if(removeOption){Cookie.remove(key,removeOption);}else{Cookie.remove(key,option);Cookie.remove(key,oldOption);}}export default{KEY:KEY,METHOD:METHOD,getTokenKey:getTokenKey,handleCookie:handleCookie,remove:remove};","map":{"version":3,"sources":["/Users/admin/Desktop/SourceDevVieON/LiveEvent/src/config/ConfigCookie.js"],"names":["Cookie","ConfigEnv","KEY","ACCESS_TOKEN","ACCESS_TOKEN_TEST","ACCESS_TOKEN_DEV","ANONYMOUS_TOKEN","METHOD","SAVE","LOAD","REMOVE","getTokenKey","key","domainAPI","DOMAIN_API","isTesting","includes","isDev","handleCookie","type","value","option","save","load","remove","removeOption","timeNow","Date","setFullYear","getFullYear","expires","path","oldOption","domain"],"mappings":"AAAA,MAAOA,CAAAA,MAAP,KAAmB,eAAnB,CACA,MAAO,GAAKC,CAAAA,SAAZ,KAA2B,aAA3B,CAEA,GAAMC,CAAAA,GAAG,CAAG,CACVC,YAAY,CAAG,cADL,CAEVC,iBAAiB,CAAG,mBAFV,CAGVC,gBAAgB,CAAG,kBAHT,CAIVC,eAAe,CAAG,iBAJR,CAAZ,CAOA,GAAMC,CAAAA,MAAM,CAAG,CACbC,IAAI,CAAE,MADO,CAEbC,IAAI,CAAE,MAFO,CAGbC,MAAM,CAAE,QAHK,CAAf,CAOA,QAASC,CAAAA,WAAT,EAAwB,CACtB,GAAIC,CAAAA,GAAG,CAAGV,GAAG,CAACC,YAAd,CACA,GAAMU,CAAAA,SAAS,CAAGZ,SAAS,CAACa,UAA5B,CACA,GAAMC,CAAAA,SAAS,CAAG,CAACF,SAAS,EAAI,EAAd,EAAkBG,QAAlB,CAA2B,aAA3B,CAAlB,CACA,GAAMC,CAAAA,KAAK,CAAG,CAACJ,SAAS,EAAI,EAAd,EAAkBG,QAAlB,CAA2B,SAA3B,CAAd,CACA,GAAID,SAAJ,CAAeH,GAAG,CAAGV,GAAG,CAACE,iBAAV,CAAf,IACK,IAAIa,KAAJ,CAAWL,GAAG,CAAGV,GAAG,CAACG,gBAAV,CAChB,MAAOO,CAAAA,GAAP,CACD,CAED,QAASM,CAAAA,YAAT,MAAmD,IAA3BC,CAAAA,IAA2B,MAA3BA,IAA2B,CAArBP,GAAqB,MAArBA,GAAqB,CAAhBQ,KAAgB,MAAhBA,KAAgB,CAATC,MAAS,MAATA,MAAS,CACjD;AACA,OAAQF,IAAR,EACE,IAAKZ,CAAAA,MAAM,CAACC,IAAZ,CAAkB,CAChB,MAAOR,CAAAA,MAAM,CAACsB,IAAP,CAAYV,GAAZ,CAAiBQ,KAAjB,CAAwBC,MAAxB,CAAP,CACD,CACD,IAAKd,CAAAA,MAAM,CAACE,IAAZ,CAAkB,CAChB,MAAOT,CAAAA,MAAM,CAACuB,IAAP,CAAYX,GAAZ,CAAP,CACD,CACD,IAAKL,CAAAA,MAAM,CAACG,MAAZ,CAAoB,CAClBV,MAAM,CAACwB,MAAP,CAAcZ,GAAd,CAAmBS,MAAnB,EACA,OACD,CAVH,CAaD,CACD,QAASG,CAAAA,MAAT,CAAgBZ,GAAhB,CAAqBa,YAArB,CAAkC,CAChC,GAAMC,CAAAA,OAAO,CAAG,GAAIC,CAAAA,IAAJ,EAAhB,CACAD,OAAO,CAACE,WAAR,CAAoBF,OAAO,CAACG,WAAR,GAAwB,CAA5C,EACA,GAAMR,CAAAA,MAAM,CAAG,CAAES,OAAO,CAAEJ,OAAX,CAAoBK,IAAI,CAAE,GAA1B,CAAf,CACA,GAAMC,CAAAA,SAAS,CAAG,CAAEF,OAAO,CAAEJ,OAAX,CAAoBO,MAAM,CAAE,WAA5B,CAAyCF,IAAI,CAAE,GAA/C,CAAlB,CAEA,GAAGN,YAAH,CAAiB,CACfzB,MAAM,CAACwB,MAAP,CAAcZ,GAAd,CAAmBa,YAAnB,EACD,CAFD,IAEO,CACLzB,MAAM,CAACwB,MAAP,CAAcZ,GAAd,CAAmBS,MAAnB,EACArB,MAAM,CAACwB,MAAP,CAAcZ,GAAd,CAAmBoB,SAAnB,EACD,CAEF,CAED,cAAe,CACb9B,GAAG,CAAHA,GADa,CACRK,MAAM,CAANA,MADQ,CAEbI,WAAW,CAAXA,WAFa,CAGbO,YAAY,CAAZA,YAHa,CAIbM,MAAM,CAANA,MAJa,CAAf","sourcesContent":["import Cookie from 'react-cookies'\nimport * as ConfigEnv from './ConfigEnv'\n\nconst KEY = {\n  ACCESS_TOKEN : 'access_token',\n  ACCESS_TOKEN_TEST : 'access_token_test',\n  ACCESS_TOKEN_DEV : 'access_token_dev',\n  ANONYMOUS_TOKEN : 'anonymous_token',\n}\n\nconst METHOD = {\n  SAVE: 'SAVE',\n  LOAD: 'LOAD',\n  REMOVE: 'REMOVE',\n}\n\n\nfunction getTokenKey () {\n  let key = KEY.ACCESS_TOKEN\n  const domainAPI = ConfigEnv.DOMAIN_API\n  const isTesting = (domainAPI || '').includes('testing-api')\n  const isDev = (domainAPI || '').includes('dev-api')\n  if (isTesting) key = KEY.ACCESS_TOKEN_TEST\n  else if (isDev) key = KEY.ACCESS_TOKEN_DEV\n  return key\n}\n\nfunction handleCookie ({type, key, value, option}) {\n  //time expire token\n  switch (type) {\n    case METHOD.SAVE: {\n      return Cookie.save(key, value, option)\n    }\n    case METHOD.LOAD: {\n      return Cookie.load(key)\n    }\n    case METHOD.REMOVE: {\n      Cookie.remove(key, option)\n      return\n    }\n  }\n\n}\nfunction remove(key, removeOption){\n  const timeNow = new Date()\n  timeNow.setFullYear(timeNow.getFullYear() + 1)\n  const option = { expires: timeNow, path: '/' }\n  const oldOption = { expires: timeNow, domain: '.vieon.vn', path: '/' }\n\n  if(removeOption) {\n    Cookie.remove(key, removeOption)\n  } else {\n    Cookie.remove(key, option)\n    Cookie.remove(key, oldOption)\n  }\n\n}\n\nexport default {\n  KEY, METHOD,\n  getTokenKey,\n  handleCookie,\n  remove,\n}\n"]},"metadata":{},"sourceType":"module"}