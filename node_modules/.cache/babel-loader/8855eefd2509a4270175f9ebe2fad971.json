{"ast":null,"code":"import _regeneratorRuntime from\"/Users/admin/Desktop/SourceDevVieON/LiveEvent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/admin/Desktop/SourceDevVieON/LiveEvent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/Users/admin/Desktop/SourceDevVieON/LiveEvent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/admin/Desktop/SourceDevVieON/LiveEvent/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{CButton,CCard,CCardBody,CCardGroup,CCol,CContainer,CForm,CInput,CInputGroup,CInputGroupPrepend,CInputGroupText,CLink,CRow}from'@coreui/react';import CIcon from'@coreui/icons-react';import UserApi from\"../../../apis/userApi\";import{useDispatch}from\"react-redux\";import{getUser}from\"../../../actions/user\";import{useHistory}from\"react-router\";import ConfigUrl from\"../../../config/ConfigUrl\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ChangePassWord=function ChangePassWord(){var dispatch=useDispatch();var history=useHistory();useEffect(function(){function getList(){dispatch(getUser());}getList();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var _useState=useState({old_password:'',new_password:''}),_useState2=_slicedToArray(_useState,2),changePassWord=_useState2[0],setChangePassword=_useState2[1];var onChangeOldPassword=function onChangeOldPassword(e){var value=e.target.value;setChangePassword(_objectSpread(_objectSpread({},changePassWord),{},{old_password:value}));};var onChangeNewPassword=function onChangeNewPassword(e){var value=e.target.value;setChangePassword(_objectSpread(_objectSpread({},changePassWord),{},{new_password:value}));};var onAppLyPassword=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return UserApi.changePassword(changePassWord===null||changePassWord===void 0?void 0:changePassWord.old_password,changePassWord===null||changePassWord===void 0?void 0:changePassWord.new_password).then(function(res){if(res){history.push(ConfigUrl.user.LOGIN+'?rel=/');}});case 2:case\"end\":return _context.stop();}}},_callee);}));return function onAppLyPassword(){return _ref.apply(this,arguments);};}();var handleKeyPress=function handleKeyPress(event){if(event.key==='Enter'){onAppLyPassword();}};return/*#__PURE__*/_jsx(\"div\",{className:\"c-app c-default-layout flex-row align-items-center\",children:/*#__PURE__*/_jsx(CContainer,{children:/*#__PURE__*/_jsx(CRow,{className:\"justify-content-center\",children:/*#__PURE__*/_jsx(CCol,{md:\"9\",lg:\"7\",xl:\"6\",children:/*#__PURE__*/_jsx(CCardGroup,{children:/*#__PURE__*/_jsx(CCard,{className:\"p-4\",children:/*#__PURE__*/_jsx(CCardBody,{children:/*#__PURE__*/_jsxs(CForm,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0110\\u1ED5i M\\u1EADt Kh\\u1EA9u\"}),/*#__PURE__*/_jsxs(CInputGroup,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(CInputGroupPrepend,{children:/*#__PURE__*/_jsx(CInputGroupText,{children:/*#__PURE__*/_jsx(CIcon,{name:\"cil-lock-locked\"})})}),/*#__PURE__*/_jsx(CInput,{type:\"password\",placeholder:\"Old Password\",autoComplete:\"current-password\",onKeyPress:handleKeyPress,onChange:onChangeOldPassword})]}),/*#__PURE__*/_jsxs(CInputGroup,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(CInputGroupPrepend,{children:/*#__PURE__*/_jsx(CInputGroupText,{children:/*#__PURE__*/_jsx(CIcon,{name:\"cil-lock-locked\"})})}),/*#__PURE__*/_jsx(CInput,{type:\"password\",placeholder:\"New Password\",autoComplete:\"current-password\",onChange:onChangeNewPassword,onKeyPress:handleKeyPress})]}),/*#__PURE__*/_jsx(CButton,{color:\"success\",block:true,className:\"px-4\",onClick:onAppLyPassword,children:\"X\\xE1c nh\\u1EADn\"}),/*#__PURE__*/_jsx(CLink,{to:\"/instream-ads/content-provider-list\",children:/*#__PURE__*/_jsx(\"p\",{className:\"mt-3 mb-0 register-back\",children:\"Quay l\\u1EA1i Instream Ads Tool\"})})]})})})})})})})});};export default ChangePassWord;","map":{"version":3,"sources":["/Users/admin/Desktop/SourceDevVieON/LiveEvent/src/views/users/changePassWord/ChangePassWord.js"],"names":["React","useEffect","useState","CButton","CCard","CCardBody","CCardGroup","CCol","CContainer","CForm","CInput","CInputGroup","CInputGroupPrepend","CInputGroupText","CLink","CRow","CIcon","UserApi","useDispatch","getUser","useHistory","ConfigUrl","ChangePassWord","dispatch","history","getList","old_password","new_password","changePassWord","setChangePassword","onChangeOldPassword","e","value","target","onChangeNewPassword","onAppLyPassword","changePassword","then","res","push","user","LOGIN","handleKeyPress","event","key"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardGroup,\n  CCol,\n  CContainer,\n  CForm,\n  CInput,\n  CInputGroup,\n  CInputGroupPrepend,\n  CInputGroupText, CLink,\n  CRow\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\nimport UserApi from \"../../../apis/userApi\";\nimport {useDispatch} from \"react-redux\";\nimport {getUser} from \"../../../actions/user\";\nimport {useHistory} from \"react-router\";\nimport ConfigUrl from \"../../../config/ConfigUrl\";\n\nconst ChangePassWord = () => {\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  useEffect(()=>{\n    function getList () {\n      dispatch(getUser())\n    }\n    getList()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  },[])\n\n  const [changePassWord, setChangePassword] = useState({\n    old_password: '',\n    new_password: ''\n  })\n\n  const onChangeOldPassword = (e) => {\n    const value = e.target.value\n    setChangePassword({...changePassWord, old_password: value})\n  }\n  const onChangeNewPassword = (e) => {\n    const value = e.target.value\n    setChangePassword({...changePassWord, new_password: value})\n  }\n\n  const onAppLyPassword = async () => {\n    await UserApi.changePassword(changePassWord?.old_password, changePassWord?.new_password).then(res=>{\n      if (res){\n        history.push(ConfigUrl.user.LOGIN + '?rel=/')\n      }\n    })\n  }\n  const handleKeyPress = (event) => {\n    if (event.key === 'Enter') {\n      onAppLyPassword()\n    }\n  }\n  return (\n    <div className=\"c-app c-default-layout flex-row align-items-center\">\n      <CContainer>\n        <CRow className=\"justify-content-center\">\n          <CCol md=\"9\" lg=\"7\" xl=\"6\">\n            <CCardGroup>\n              <CCard className=\"p-4\">\n                <CCardBody>\n                  <CForm>\n                    <h1>Đổi Mật Khẩu</h1>\n                    <CInputGroup className=\"mb-4\">\n                      <CInputGroupPrepend>\n                        <CInputGroupText>\n                          <CIcon name=\"cil-lock-locked\" />\n                        </CInputGroupText>\n                      </CInputGroupPrepend>\n                      <CInput type=\"password\" placeholder=\"Old Password\" autoComplete=\"current-password\"\n                              onKeyPress={handleKeyPress}\n                              onChange={onChangeOldPassword} />\n                    </CInputGroup>\n                    <CInputGroup className=\"mb-4\">\n                      <CInputGroupPrepend>\n                        <CInputGroupText>\n                          <CIcon name=\"cil-lock-locked\" />\n                        </CInputGroupText>\n                      </CInputGroupPrepend>\n                      <CInput type=\"password\" placeholder=\"New Password\" autoComplete=\"current-password\"\n                              onChange={onChangeNewPassword}\n                              onKeyPress={handleKeyPress}/>\n                    </CInputGroup>\n                    <CButton color=\"success\" block className=\"px-4\"\n                             onClick={onAppLyPassword}>Xác nhận</CButton>\n                    <CLink to=\"/instream-ads/content-provider-list\">\n                      <p className=\"mt-3 mb-0 register-back\">Quay lại Instream Ads Tool</p>\n                    </CLink>\n                  </CForm>\n                </CCardBody>\n              </CCard>\n            </CCardGroup>\n          </CCol>\n        </CRow>\n      </CContainer>\n    </div>\n  )\n}\n\nexport default ChangePassWord\n"]},"metadata":{},"sourceType":"module"}